var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function a(a){return a}function b(a){return!1}function c(){}function d(){}c.prototype={chain:function(b,c){var d=this[b];if(!d)throw Error("unknown hook "+b);this[b]=d===a?c:function(a){var b=Array.prototype.slice.call(arguments,0);return b[0]=d.apply(null,b),c.apply(null,b)}},set:function(a,b){if(!this[a])throw Error("unknown hook "+a);this[a]=b},addNoop:function(b){this[b]=a},addFalse:function(a){this[a]=b}},Markdown.HookCollection=c,d.prototype={set:function(a,b){this["s_"+a]=b},get:function(a){return this["s_"+a]}},Markdown.Converter=function(b){function e(a){return a=a.replace(/^[ ]{0,3}\[([^\[\]]+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(\n+)/gm,function(a,b,c,d,e,f,g){return b=b.toLowerCase(),L.set(b,z(c)),e?d+g:(f&&M.set(b,f.replace(/"/g,"&quot;")),"")})}function f(a){return a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,h),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,h),a=a.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,h),a=a.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,h),a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,h)}function g(a){return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(N.push(a)-1)+"K\n\n"}function h(a,b){return g(b)}function i(a,b,c){return a=K.preBlockGamut(a,S),a=o(a),a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,"<hr />\n"),a=a.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,"<hr />\n"),a=a.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,"<hr />\n"),a=p(a),a=r(a),a=x(a),a=K.postBlockGamut(a,S),a=f(a),a=y(a,b,c)}function j(a){return a=K.preSpanGamut(a),a=s(a),a=k(a),a=a.replace(/\\(\\)/g,J),a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,J),-1!==a.indexOf("![")&&(a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,n),a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,n)),-1!==a.indexOf("[")&&(a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,l),a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,l),a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,l)),a=C(a),a=a.replace(/~P/g,"://"),a=z(a),a=R(a),a=a.replace(/  +\n/g," <br>\n"),a=K.postSpanGamut(a)}function k(a){return a=a.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=I(b,"!"==a.charAt(1)?"\\`*_/":"\\`*_")})}function l(a,b,c,d,e,f,g,h){void 0==h&&(h=""),a=c.replace(/:\/\//g,"~P"),d=d.toLowerCase();if(""==e)if(""==d&&(d=a.toLowerCase().replace(/ ?\n/g," ")),void 0!=L.get(d))e=L.get(d),void 0!=M.get(d)&&(h=M.get(d));else{if(!(-1<b.search(/\(\s*\)$/m)))return b;e=""}return e=H(e),b='<a href="'+e+'"',""!=h&&(h=m(h),h=I(h,"*_"),b+=' title="'+h+'"'),b+(">"+a+"</a>")}function m(a){return a.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function n(a,b,c,d,e,f,g,h){a=c,d=d.toLowerCase(),h||(h="");if(""==e){if(""==d&&(d=a.toLowerCase().replace(/ ?\n/g," ")),void 0==L.get(d))return b;e=L.get(d),void 0!=M.get(d)&&(h=M.get(d))}return a=I(m(a),"*_[]()"),e=I(e,"*_"),b='<img src="'+e+'" alt="'+a+'"',h=m(h),h=I(h,"*_"),b+(' title="'+h+'"')+" />"}function o(a){return a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,b){return"<h1>"+j(b)+"</h1>\n\n"}),a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,b){return"<h2>"+j(b)+"</h2>\n\n"}),a=a.replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(a,b,c){return a=b.length,"<h"+a+">"+j(c)+"</h"+a+">\n\n"})}function p(a,b){a+="~0";var c=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return O?a=a.replace(c,function(a,c,d){a=-1<d.search(/[*+-]/g)?"ul":"ol";var e;return"ol"===a&&(e=parseInt(d,10)),c=q(c,a,b),c=c.replace(/\s+$/,""),d="<"+a,e&&1!==e&&(d+=' start="'+e+'"'),d+">"+c+"</"+a+">\n"}):(c=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(c,function(a,b,c,d){a=-1<d.search(/[*+-]/g)?"ul":"ol";var e;return"ol"===a&&(e=parseInt(d,10)),c=q(c,a),d="<"+a,e&&1!==e&&(d+=' start="'+e+'"'),b+d+">\n"+c+"</"+a+">\n"})),a=a.replace(/~0/,"")}function q(a,b,c){O++,a=a.replace(/\n{2,}$/,"\n"),b=T[b];var d=!1;return a=(a+"~0").replace(new RegExp("(^[ \\t]*)("+b+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+b+")[ \\t]+))","gm"),function(a,b,c,e){return a=e,c=(b=/\n\n$/.test(a))||-1<a.search(/\n{2,}/)||d,a=i(F(a),!0,!c),d=b,"<li>"+a+"</li>\n"}),a=a.replace(/~0/g,""),O--,a}function r(a){return a=(a+"~0").replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){return a=t(F(b)),a=G(a),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),"\n\n"+("<pre><code>"+a+"\n</code></pre>")+"\n\n"+c}),a=a.replace(/~0/,"")}function s(a){return a=a.replace(/(^|[^\\`])(`+)(?!`)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,d,e){return a=d.replace(/^([ \t]*)/g,""),a=a.replace(/[ \t]*$/g,""),a=t(a),a=a.replace(/:\/\//g,"~P"),b+"<code>"+a+"</code>"})}function t(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=I(a,"*_{}[]\\",!1)}function u(a){return-1===a.indexOf("*")&&-1===a.indexOf("_")?a:(a=P(a),a=a.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)\2(?=\S)([^\r]*?\S)\2\2(?!\2)(?=[\W_]|$)/g,"$1<strong>$3</strong>"),a=a.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)(?=\S)((?:(?!\2)[^\r])*?\S)\2(?!\2)(?=[\W_]|$)/g,"$1<em>$3</em>"),Q(a))}function v(a){return-1===a.indexOf("*")&&-1===a.indexOf("_")?a:(a=P(a),a=a.replace(/(?=[^\r][*_]|[*_])(^|(?=\W__|(?!\*)[\W_]\*\*|\w\*\*\w)[^\r])(\*\*|__)(?!\2)(?=\S)((?:|[^\r]*?(?!\2)[^\r])(?=\S_|\w|\S\*\*(?:[\W_]|$)).)(?=__(?:\W|$)|\*\*(?:[^*]|$))\2/g,"$1<strong>$3</strong>"),a=a.replace(/(?=[^\r][*_]|[*_])(^|(?=\W_|(?!\*)(?:[\W_]\*|\D\*(?=\w)\D))[^\r])(\*|_)(?!\2\2\2)(?=\S)((?:(?!\2)[^\r])*?(?=[^\s_]_|(?=\w)\D\*\D|[^\s*]\*(?:[\W_]|$)).)(?=_(?:\W|$)|\*(?:[^*]|$))\2/g,"$1<em>$3</em>"),Q(a))}function x(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c=b.replace(/^[ \t]*>[ \t]?/gm,"~0");return c=c.replace(/~0/g,""),c=c.replace(/^[ \t]+$/gm,""),c=i(c),c=c.replace(/(^|\n)/g,"$1  "),c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b.replace(/^  /mg,"~0");return c=c.replace(/~0/g,"")}),g("<blockquote>\n"+c+"\n</blockquote>")})}function y(a,b,c){a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),a=a.split(/\n{2,}/g);for(var d=[],e=/~K(\d+)K/,f=a.length,g=0;g<f;g++){var h=a[g];e.test(h)?d.push(h):/\S/.test(h)&&(h=j(h),h=h.replace(/^([ \t]*)/g,c?"":"<p>"),c||(h+="</p>"),d.push(h))}if(!b)for(f=d.length,g=0;g<f;g++)for(var i=!0;i;)i=!1,d[g]=d[g].replace(/~K(\d+)K/g,function(a,b){return i=!0,N[b]});return d.join("\n\n")}function z(a){return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function B(a,b,c,d){if(b)return a;if(")"!==d.charAt(d.length-1))return"<"+c+d+">";a=d.match(/[()]/g);for(var e=b=0;e<a.length;e++)"("===a[e]?0>=b?b=1:b++:b--;var f="";return 0>b&&(d=d.replace(new RegExp("\\){1,"+ -b+"}$"),function(a){return f=a,""})),f&&(a=d.charAt(d.length-1),V.test(a)||(f=a+f,d=d.substr(0,d.length-1))),"<"+c+d+">"+f}function C(a){return a=a.replace(U,B),a=a.replace(/<((https?|ftp):[^'">\s]+)>/gi,function(a,b){return'<a href="'+H(b)+'">'+K.plainLinkText(b)+"</a>"})}function D(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})}function F(a){return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a=a.replace(/~0/g,"")}function G(a){if(!/\t/.test(a))return a;var b=["    ","   ","  "," "],c=0,d;return a.replace(/[\n\t]/g,function(a,e){return"\n"===a?(c=e+1,a):(d=(e-c)%4,c=e+1,b[d])})}function H(a){return a=m(a),a=I(a,"*_:()[]")}function I(a,b,c){return b="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])",c&&(b="\\\\"+b),a=a.replace(new RegExp(b,"g"),J)}function J(a,b){return"~E"+b.charCodeAt(0)+"E"}var K=this.hooks=new c;K.addNoop("plainLinkText"),K.addNoop("preConversion"),K.addNoop("postNormalization"),K.addNoop("preBlockGamut"),K.addNoop("postBlockGamut"),K.addNoop("preSpanGamut"),K.addNoop("postSpanGamut"),K.addNoop("postConversion");var L,M,N,O;b=b||{};var P=a,Q=a;b.nonAsciiLetters&&function(){var a=/[Q\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0523\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u064a\u0660-\u0669\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07c0-\u07ea\u07f4-\u07f5\u07fa\u0904-\u0939\u093d\u0950\u0958-\u0961\u0966-\u096f\u0971-\u0972\u097b-\u097f\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0be6-\u0bef\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d3d\u0d60-\u0d61\u0d66-\u0d6f\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edd\u0f00\u0f20-\u0f29\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8b\u1000-\u102a\u103f-\u1049\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u1090-\u1099\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u1900-\u191c\u1946-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u19d0-\u19d9\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b50-\u1b59\u1b83-\u1ba0\u1bae-\u1bb9\u1c00-\u1c23\u1c40-\u1c49\u1c4d-\u1c7d\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183-\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c6f\u2c71-\u2c7d\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fc3\ua000-\ua48c\ua500-\ua60c\ua610-\ua62b\ua640-\ua65f\ua662-\ua66e\ua67f-\ua697\ua717-\ua71f\ua722-\ua788\ua78b-\ua78c\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8d0-\ua8d9\ua900-\ua925\ua930-\ua946\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa50-\uaa59\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/g;P=function(b){return b.replace(a,function(a){a=a.charCodeAt(0);for(var b="",c;0<a;)c=a%51+65,81<=c&&c++,90<c&&(c+=6),b=String.fromCharCode(c)+b,a=a/51|0;return"Q"+b+"Q"})},Q=function(a){return a.replace(/Q([A-PR-Za-z]{1,3})Q/g,function(a,b){for(var c=0,d,e=0;e<b.length;e++)d=b.charCodeAt(e),90<d&&(d-=6),81<d&&d--,d-=65,c=51*c+d;return String.fromCharCode(c)})}}();var R=b.asteriskIntraWordEmphasis?v:u;this.makeHtml=function(a){if(L)throw Error("Recursive call to converter.makeHtml");return L=new d,M=new d,N=[],O=0,a=K.preConversion(a),a=a.replace(/~/g,"~T"),a=a.replace(/\$/g,"~D"),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),a=G("\n\n"+a+"\n\n"),a=a.replace(/^[ \t]+$/mg,""),a=K.postNormalization(a),a=f(a),a=e(a),a=i(a),a=D(a),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~"),a=K.postConversion(a),N=M=L=null,a};var S=function(a){return i(a)},T={ol:"\\d+[.]",ul:"[*+-]"},U=RegExp('(="|<)?\\b(https?|ftp)(://[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]*[-A-Z0-9+&@#/%=~_|[\\])])(?=$|\\W)',"gi"),V=/[-A-Z0-9+&@#/%=~_|[\])]/i}}(),function(){function a(a){return a.replace(/<[^>]*>?/gi,b)}function b(a){return a.match(f)||a.match(g)||a.match(h)?a:""}function c(a){if(""==a)return"";var b=/<\/?\w+[^>]*(\s|$|>)/g,c=a.toLowerCase().match(b),d=(c||[]).length;if(0==d)return a;for(var e,f,g,h=[],i=[],j=!1,k=0;k<d;k++)if(e=c[k].replace(/<\/?(\w+).*/,"$1"),!(h[k]||-1<"<p><img><br><li><hr>".search("<"+e+">"))){f=c[k],g=-1;if(!/^<\//.test(f))for(f=k+1;f<d;f++)if(!h[f]&&c[f]=="</"+e+">"){g=f;break}-1==g?j=i[k]=!0:h[g]=!0}return j?(k=0,a=a.replace(b,function(a){return a=i[k]?"":a,k++,a})):a}if("object"==typeof exports&&"function"==typeof require)var d=exports,e=require("./Markdown.Converter").Converter;else d=window.Markdown,e=d.Converter;d.getSanitizingConverter=function(){var b=new e;return b.hooks.chain("postConversion",a),b.hooks.chain("postConversion",c),b};var f=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol(?: start="\d+")?|p|pre|s|sup|sub|strong|strike|ul|table(?: class=".*")?|tr|th|td(?: align=".*")?|tbody|tfoot|thead)>|<(br|hr)\s?\/?>)$/i,g=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,h=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i}(),function(){function a(){$(document.body).css("overflow","auto");var a=$(this).closest(".wmd-container");a.removeClass("fullscreen"),a.find(".wmd-go-fullscreen").show(),a.find(".wmd-close-fullscreen").hide()}function b(){}function c(a){this.buttonBar=m.getElementById("wmd-button-bar"+a),this.preview=m.getElementById("wmd-preview"+a),this.input=m.getElementById("wmd-input"+a)}function d(b,c){var d=this,f=[],g=0,h="none",i,k,l,m=function(a,b){h!=a&&(h=a,b||o()),p.isIE&&"moving"==h?l=null:k=setTimeout(n,1)},n=function(a){l=new e(c,a),k=void 0};this.setCommandMode=function(){h="command",o(),k=setTimeout(n,0)},this.canUndo=function(){return 1<g},this.canRedo=function(){return f[g+1]?!0:!1},this.undo=function(){d.canUndo()&&(i?(i.restore(),i=null):(f[g]=new e(c),f[--g].restore(),b&&b())),h="none",c.input.focus(),n()},this.redo=function(){d.canRedo()&&(f[++g].restore(),b&&b()),h="none",c.input.focus(),n()};var o=function(){var a=l||new e(c);if(!a)return!1;"moving"==h?i||(i=a):(i&&(f[g-1].text!=i.text&&(f[g++]=i),i=null),f[g++]=a,f[g+1]=null,b&&b())},q=function(a){var b=!1;if((a.ctrlKey||a.metaKey)&&!a.altKey)switch(String.fromCharCode(a.charCode||a.keyCode).toLowerCase()){case"y":d.redo(),b=!0;break;case"z":a.shiftKey?d.redo():d.undo(),b=!0}b&&(a.preventDefault&&a.preventDefault(),window.event&&(window.event.returnValue=!1))},r=function(b){if(!b.ctrlKey&&!b.metaKey){var c=b.keyCode;if(33<=c&&40>=c||63232<=c&&63235>=c)m("moving");else if(8==c||46==c||127==c){if(8==c){c=this.selectionStart;var d=this.selectionEnd,e=$(this).val().substring(0,c);if(c==d&&/(^|\n)[ ]+$/.test(e)){var f=e.match(/(^|\n)[ ]+$/)[0];e=e.substring(0,e.length-f.length),"\n"==f[0]&&(e+="\n",f=f.substring(1));var g=f.length%4||4;f=f.substring(0,f.length-g),e+=f,$(this).val(e+$(this).val().substring(d)),this.selectionStart=this.selectionEnd=c-g,b.preventDefault()}}m("deleting")}else 9==c?(b.preventDefault(),c=this.selectionStart,d=this.selectionEnd,$(this).val($(this).val().substring(0,c)+"    "+$(this).val().substring(d)),this.selectionStart=this.selectionEnd=c+4,m("typing")):13==c?m("newlines"):27==c?(a.call(this),m("escape")):(16>c||20<c)&&91!=c&&m("typing")}};(function(){j.addEvent(c.input,"keypress",function(a){!a.ctrlKey&&!a.metaKey||a.altKey||89!=a.keyCode&&90!=a.keyCode||a.preventDefault()});var a=function(){(p.isIE||l&&l.text!=c.input.value)&&void 0==k&&(h="paste",o(),n())};j.addEvent(c.input,"keydown",q),j.addEvent(c.input,"keydown",r),j.addEvent(c.input,"mousedown",function(){m("moving")}),c.input&&(c.input.onpaste=a,c.input.ondrop=a)})(),n(!0),o()}function e(a,c){var d=this,e=a.input;this.init=function(){j.isVisible(e)&&(c||!m.activeElement||m.activeElement===e)&&(this.setInputAreaSelectionStartEnd(),this.scrollTop=e.scrollTop,!this.text&&e.selectionStart||0===e.selectionStart)&&(this.text=e.value)},this.setInputAreaSelection=function(){if(j.isVisible(e))if(void 0!==e.selectionStart&&!p.isOpera)e.focus(),e.selectionStart=d.start,e.selectionEnd=d.end,e.scrollTop=d.scrollTop;else if(m.selection&&(!m.activeElement||m.activeElement===e)){e.focus();var a=e.createTextRange();a.moveStart("character",-e.value.length),a.moveEnd("character",-e.value.length),a.moveEnd("character",d.end),a.moveStart("character",d.start),a.select()}},this.setInputAreaSelectionStartEnd=function(){if(!a.ieCachedRange&&(e.selectionStart||0===e.selectionStart))d.start=e.selectionStart,d.end=e.selectionEnd;else if(m.selection){d.text=j.fixEolChars(e.value);var b=a.ieCachedRange||m.selection.createRange(),c=j.fixEolChars(b.text),f=""+c+"";b.text=f;var g=j.fixEolChars(e.value);b.moveStart("character",-f.length),b.text=c,d.start=g.indexOf(""),d.end=g.lastIndexOf("")-1;if(f=d.text.length-j.fixEolChars(e.value).length){for(b.moveStart("character",-c.length);f--;)c+="\n",d.end+=1;b.text=c}a.ieCachedRange&&(d.scrollTop=a.ieCachedScrollTop),a.ieCachedRange=null,this.setInputAreaSelection()}},this.restore=function(){void 0!=d.text&&d.text!=e.value&&(e.value=d.text),this.setInputAreaSelection(),e.scrollTop=d.scrollTop},this.getChunks=function(){var a=new b;return a.before=j.fixEolChars(d.text.substring(0,d.start)),a.startTag="",a.selection=j.fixEolChars(d.text.substring(d.start,d.end)),a.endTag="",a.after=j.fixEolChars(d.text.substring(d.end)),a.scrollTop=d.scrollTop,a},this.setChunks=function(a){a.before+=a.startTag,a.after=a.endTag+a.after,this.start=a.before.length,this.end=a.before.length+a.selection.length,this.text=a.before+a.selection+a.after,this.scrollTop=a.scrollTop},this.init()}function f(a,b,c){var d,e,f,g=function(){var a=0;return window.innerHeight?a=window.pageYOffset:m.documentElement&&m.documentElement.scrollTop?a=m.documentElement.scrollTop:m.body&&(a=m.body.scrollTop),a},h=function(){if(b.preview){var c=b.input.value;if(!c||c!=f){f=c;var d=(new Date).getTime();c=a.makeHtml(c),e=(new Date).getTime()-d,t(c)}}},i=function(){d&&(clearTimeout(d),d=void 0);var a=e;3e3<a&&(a=3e3),d=setTimeout(h,a)},l=function(a){return a.scrollHeight<=a.clientHeight?1:a.scrollTop/(a.scrollHeight-a.clientHeight)};this.refresh=function(a){a?(f="",h()):i()},this.processingTime=function(){return e};var n=!0,o=function(a){var c=b.preview,d=c.parentNode,e=c.nextSibling;d.removeChild(c),c.innerHTML=a,e?d.insertBefore(c,e):d.appendChild(c)},q=function(a){b.preview.innerHTML=a},r,s=function(a){if(r)return r(a);try{q(a),r=q}catch(b){r=o,r(a)}},t=function(a){var d=k.getTop(b.input)-g();b.preview&&(s(a),c()),b.preview&&(b.preview.scrollTop=(b.preview.scrollHeight-b.preview.clientHeight)*l(b.preview));if(n)n=!1;else{var e=k.getTop(b.input)-g();p.isIE?setTimeout(function(){window.scrollBy(0,e-d)},0):window.scrollBy(0,e-d)}};(function(a,b){a&&(j.addEvent(a,"input",b),a.onpaste=b,a.ondrop=b,j.addEvent(a,"keypress",b),j.addEvent(a,"keydown",b))})(b.input,i),h(),b.preview&&(b.preview.scrollTop=0)}function g(a,b,c,d,f,g,h){function i(a){q.focus();if(a.textOp){c&&c.setCommandMode();var f=new e(b);if(!f)return;var g=f.getChunks(),h=function(){q.focus(),g&&f.setChunks(g),f.restore(),d.refresh()};a.textOp(g,h)||h()}a.execute&&a.execute(c)}function k(a,c){var d=a.getElementsByTagName("span")[0];c?(d.style.backgroundPosition=a.XShift+" 0px",a.onmouseover=function(){d.style.backgroundPosition=this.XShift+" -40px"},a.onmouseout=function(){d.style.backgroundPosition=this.XShift+" 0px"},p.isIE&&(a.onmousedown=function(){m.activeElement&&m.activeElement!==b.input||(b.ieCachedRange=document.selection.createRange(),b.ieCachedScrollTop=b.input.scrollTop)}),a.isHelp||(a.onclick=function(){return this.onmouseout&&this.onmouseout(),i(this),!1})):(d.style.backgroundPosition=a.XShift+" -20px",a.onmouseover=a.onmouseout=a.onclick=function(){})}function l(a){return"string"==typeof a&&(a=f[a]),function(){a.apply(f,arguments)}}function n(){c&&(k(r.undo,c.canUndo()),k(r.redo,c.canRedo()))}var q=b.input,r={};(function(){var c=b.buttonBar,d=document.createElement("ul");d.id="wmd-button-row"+a,d.className="wmd-button-row";if(c){$(c).addClass("wmd-button-row-wrapper"),d=c.appendChild(d);var e=0,f=function(b,c,f,g){var h=document.createElement("li");h.className="wmd-button",h.style.left=e+"px",e+=25;var i=document.createElement("span");return h.id=b+a,h.appendChild(i),h.title=c,h.XShift=f,g&&(h.textOp=g),k(h,!0),d.appendChild(h),h}}var i=function(b){var c=document.createElement("li");c.className="wmd-spacer wmd-spacer"+b,c.id="wmd-spacer"+b+a,d.appendChild(c),e+=25};r.bold=f("wmd-bold-button",h("bold"),"0px",l("doBold")),r.italic=f("wmd-italic-button",h("italic"),"-20px",l("doItalic")),i(1),r.link=f("wmd-link-button",h("link"),"-40px",l(function(a,b){return this.doLinkOrImage(a,b,!1)})),r.quote=f("wmd-quote-button",h("quote"),"-60px",l("doBlockquote")),r.code=f("wmd-code-button",h("code"),"-80px",l("doCode")),r.image=f("wmd-image-button",h("image"),"-100px",l(function(a,b){return this.doLinkOrImage(a,b,!0)})),i(2),r.olist=f("wmd-olist-button",h("olist"),"-120px",l(function(a,b){this.doList(a,b,!0)})),r.ulist=f("wmd-ulist-button",h("ulist"),"-140px",l(function(a,b){this.doList(a,b,!1)})),r.heading=f("wmd-heading-button",h("heading"),"-160px",l("doHeading")),r.hr=f("wmd-hr-button",h("hr"),"-180px",l("doHorizontalRule")),i(3),r.undo=f("wmd-undo-button",h("undo"),"-200px",null),r.undo.execute=function(a){a&&a.undo()},i=/win/.test(o.platform.toLowerCase())?h("redo"):h("redomac"),r.redo=f("wmd-redo-button",i,"-220px",null),r.redo.execute=function(a){a&&a.redo()},g&&(f=document.createElement("li"),i=document.createElement("span"),f.appendChild(i),f.className="wmd-button wmd-help-button",f.id="wmd-help-button"+a,f.XShift="-240px",f.isHelp=!0,f.style.right="0px",f.title=h("help"),f.onclick=g.handler,k(f,!0),d.appendChild(f),r.help=f);if(c){i=f=!1,0<$(c).closest(".wmd-container").length&&0<$(c).closest(".wmd-container").find(".wmd-preview").length&&(f=!0,"none"==$(c).closest(".wmd-container").find(".wmd-preview").css("display")||$(c).closest(".wmd-container").find(".wmd-preview").hasClass("hidden"))&&(i=!0);var j=$("<div/>",{"class":"wmd-right-options",style:f?"":"display:none"});$("<div/>",{"class":"wmd-right-option wmd-close-fullscreen",style:"display:none"}).html('<i class="fa fa-compress" title="Close fullscreen"></i>').appendTo(j),$("<div/>",{"class":"wmd-right-option wmd-go-fullscreen",style:f?"":"display:none"}).html(i?'<span title="Go fullscreen">Preview</span>':'<i class="fa fa-arrows-alt" title="Go fullscreen"></i>').appendTo(j),j.appendTo($(c))}n()})();var s="keydown";p.isOpera&&(s="keypress"),j.addEvent(q,s,function(a){if((a.ctrlKey||a.metaKey)&&!a.altKey&&!a.shiftKey){switch(String.fromCharCode(a.charCode||a.keyCode).toLowerCase()){case"b":i(r.bold);break;case"i":i(r.italic);break;case"l":i(r.link);break;case"q":i(r.quote);break;case"k":i(r.code);break;case"g":i(r.image);break;case"o":i(r.olist);break;case"u":i(r.ulist);break;case"h":i(r.heading);break;case"r":i(r.hr);break;case"y":i(r.redo);break;case"z":a.shiftKey?i(r.redo):i(r.undo);break;default:return}a.preventDefault&&a.preventDefault(),window.event&&(window.event.returnValue=!1)}}),j.addEvent(q,"keyup",function(a){!a.shiftKey||a.ctrlKey||a.metaKey||13!==(a.charCode||a.keyCode)||(a={},a.textOp=l("doAutoindent"),i(a))}),p.isIE&&j.addEvent(q,"keydown",function(a){if(27===a.keyCode)return!1}),this.setUndoRedoButtonStates=n}function h(a,b,c){this.hooks=a,this.getString=b,this.converter=c}function i(a){return a.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(a,b,c){var d=!1;return b=b.replace(/%(?:[\da-fA-F]{2})|\?|\+|[^\w\d-./[\]]/g,function(a){if(3===a.length&&"%"==a.charAt(0))return a.toUpperCase();switch(a){case"?":return d=!0,"?";case"+":if(d)return"%20"}return encodeURI(a)}),c&&(c=c.trim?c.trim():c.replace(/^\s*/,"").replace(/\s*$/,""),c=c.replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),c?b+' "'+c+'"':b})}var j={},k={},l={},m=window.document,n=RegExp,o=window.navigator,p={isIE:/msie/.test(o.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(o.userAgent.toLowerCase())||/msie 5/.test(o.userAgent.toLowerCase()),isOpera:/opera/.test(o.userAgent.toLowerCase())},q={bold:"Strong <strong> Ctrl+B",boldexample:"strong text",italic:"Emphasis <em> Ctrl+I",italicexample:"emphasized text",link:"Hyperlink <a> Ctrl+L",linkdescription:"enter link description here",linkdialog:"<p align='justify' style='font-size:15px;text-align: center;'><b>Insert Hyperlink</b></p>",quote:"Blockquote <blockquote> Ctrl+Q",quoteexample:"Blockquote",code:"Code Sample <pre><code> Ctrl+K",codeexample:"enter code here",image:"Image <img> Ctrl+G",imagedescription:"enter image description here",imagedialog:"<p align='justify' style='font-size:15px;text-align: center;'><b>"+IMAGE_UPLOAD_POPUP_STRINGS.insert_image+"</b></p>",olist:"Numbered List <ol> Ctrl+O",ulist:"Bulleted List <ul> Ctrl+U",litem:"List item",heading:"Heading <h1>/<h2> Ctrl+H",headingexample:"Heading",hr:"Horizontal Rule <hr> Ctrl+R",undo:"Undo - Ctrl+Z",redo:"Redo - Ctrl+Y",redomac:"Redo - Ctrl+Shift+Z",help:"Markdown Editing Help"};Markdown.Editor=function(b,e,i){i=i||{},"function"==typeof i.handler&&(i={helpButton:i}),i.strings=i.strings||{},i.helpButton&&(i.strings.help=i.strings.help||i.helpButton.title);var j=function(a){return i.strings[a]||q[a]};e=e||"";var k=this.hooks=new Markdown.HookCollection;k.addNoop("onPreviewRefresh"),k.addNoop("postBlockquoteCreation"),k.addFalse("insertImageDialog"),this.getConverter=function(){return b};var l=this,n;this.run=function(){if(!n){n=new c(e);var o=new h(k,j,b),p=new f(b,n,function(){k.onPreviewRefresh()});if(!/\?noundo/.test(m.location.href)){var q=new d(function(){p.refresh(),r&&r.setUndoRedoButtonStates()},n);this.textOperation=function(a){q.setCommandMode(),a(),l.refreshPreview()}}var r=new g(e,n,q,p,o,i.helpButton,j);r.setUndoRedoButtonStates(),(l.refreshPreview=function(){p.refresh(!0)})(),$(n.buttonBar).on("click",".wmd-go-fullscreen",function(){$(document.body).css("overflow","hidden");var a=$(this).closest(".wmd-container");a.find(".wmd-preview").parentsUntil(".wmd-container").show(),a.addClass("fullscreen"),a.find(".wmd-go-fullscreen").hide(),a.find(".wmd-close-fullscreen").show(),a.find(".wmd-input").focus()}),$(n.buttonBar).on("click",".wmd-close-fullscreen",function(){a.call(this)})}}},b.prototype.findTags=function(a,b){var c=this;if(a){var d=j.extendRegExp(a,"","$");this.before=this.before.replace(d,function(a){return c.startTag+=a,""}),d=j.extendRegExp(a,"^",""),this.selection=this.selection.replace(d,function(a){return c.startTag+=a,""})}b&&(d=j.extendRegExp(b,"","$"),this.selection=this.selection.replace(d,function(a){return c.endTag=a+c.endTag,""}),d=j.extendRegExp(b,"^",""),this.after=this.after.replace(d,function(a){return c.endTag=a+c.endTag,""}))},b.prototype.trimWhitespace=function(a){var b,c=this;a?a=b="":(a=function(a){return c.before+=a,""},b=function(a){return c.after=a+c.after,""}),this.selection=this.selection.replace(/^(\s*)/,a).replace(/(\s*)$/,b)},b.prototype.skipLines=function(a,b,c){void 0===a&&(a=1),void 0===b&&(b=1),a++,b++;var d,e;navigator.userAgent.match(/Chrome/)&&"X".match(/()./),this.selection=this.selection.replace(/(^\n*)/,""),this.startTag+=n.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag+=n.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before+=n.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after+=n.$1;if(this.before){for(d=e="";a--;)d+="\\n?",e+="\n";c&&(d="\\n*"),this.before=this.before.replace(new n(d+"$",""),e)}if(this.after){for(d=e="";b--;)d+="\\n?",e+="\n";c&&(d="\\n*"),this.after=this.after.replace(new n(d,""),e)}},j.isVisible=function(a){if(window.getComputedStyle){try{var b="none"!==window.getComputedStyle(a,null).getPropertyValue("display")}catch(c){b=null}return b}if(a.currentStyle)return"none"!==a.currentStyle.display},j.addEvent=function(a,b,c){a&&(a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1))},j.removeEvent=function(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener(b,c,!1)},j.fixEolChars=function(a){return a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n")},j.extendRegExp=function(a,b,c){if(null===b||void 0===b)b="";if(null===c||void 0===c)c="";a=a.toString();var d;return a=a.replace(/\/([gim]*)$/,function(a,b){return d=b,""}),a=a.replace(/(^\/|\/$)/g,""),new n(b+a+c,d)},k.getTop=function(a,b){var c=a.offsetTop;if(!b)for(;a=a.offsetParent;)c+=a.offsetTop;return c},k.getHeight=function(a){return a.offsetHeight||a.scrollHeight},k.getWidth=function(a){return a.offsetWidth||a.scrollWidth},k.getPageSize=function(){if(self.innerHeight&&self.scrollMaxY)var a=m.body.scrollWidth,b=self.innerHeight+self.scrollMaxY;else m.body.scrollHeight>m.body.offsetHeight?(a=m.body.scrollWidth,b=m.body.scrollHeight):(a=m.body.offsetWidth,b=m.body.offsetHeight);if(self.innerHeight)var c=self.innerWidth,d=self.innerHeight;else m.documentElement&&m.documentElement.clientHeight?(c=m.documentElement.clientWidth,d=m.documentElement.clientHeight):m.body&&(c=m.body.clientWidth,d=m.body.clientHeight);return[Math.max(a,c),Math.max(b,d),c,d]},l.createBackground=function(){var a=m.createElement("div"),b=a.style;a.className="wmd-prompt-background",b.position="absolute",b.top="0",b.zIndex="1000",p.isIE?b.filter="alpha(opacity=50)":b.opacity="0.5";var c=k.getPageSize();return b.height=c[1]+"px",p.isIE?(b.left=m.documentElement.scrollLeft,b.width=m.documentElement.clientWidth):(b.left="0",b.width="100%"),m.body.appendChild(a),a},l.prompt=function(a,b,c){var d,e;void 0===b&&(b="");var f=function(a){27===(a.charCode||a.keyCode)&&g(!0)},g=function(a,b){j.removeEvent(m.body,"keydown",f);var g=e.value;if(b)if(a)g=null,d.parentNode.removeChild(d),c(g);else{g=$("#filename-input").val();var h=0<=g.indexOf("\\")?g.lastIndexOf("\\"):g.lastIndexOf("/"),i=g.substring(h);if(0===i.indexOf("\\")||0===i.indexOf("/"))i=i.substring(1);g=g.substring(g.lastIndexOf(".")+1).toLowerCase();if("png"==g||"jpg"==g||"jpeg"==g||"gif"==g){$("#message_image").hide(),$("#error_image").hide(),$("#ImageUploadProgress").show(),g=document.getElementById("filename-input").files,h=document.createElement("img");var k=new FileReader;k.onload=function(a){return function(b){b=a.src=b.target.result;var e=b.split(",")[1];b.split(",")[0].split(":")[1].split("/")[1].split(";"),$.ajax({url:"/upload-image/",type:"POST",data:{type:"base64",key:"88wvr0jnjv6xapcyfdmmf5x8gl47zawv",name:i,image:e},dataType:"json",success:function(a){"ERROR"!=a.status&&(c(a.imgURL),$("#ImageUploadProgress").hide(),d.parentNode.removeChild(d))}})}}(h),k.readAsDataURL(g[0])}else $("#message_image").hide(),$("#error_image").show()}else a?(g=null,d.parentNode.removeChild(d),c(g)):(g=e.value,h=g.substring(g.lastIndexOf(".")+1).toLowerCase(),"jpg"==h||"png"==h||"jpeg"==h||"gif"==h?(g=g.replace("http://http://","http://"),g=g.replace("http://https://","https://"),g=g.replace("http://ftp://","ftp://"),-1===g.indexOf("http://")&&-1===
g.indexOf("ftp://")&&-1===g.indexOf("https://")&&(g="http://"+g),d.parentNode.removeChild(d),c(g)):($("#message_url").hide(),$("#error_url").show()));return!1},h=function(){d=m.createElement("div"),d.className="wmd-prompt-dialog",d.style.padding="10px;",d.style.position="fixed",d.style.width="400px",d.style.display="block",d.style.zIndex="1000001";var c=m.createElement("div");l=c.style,c.innerHTML=IMAGE_UPLOAD_POPUP_STRINGS.imgur_link+"<a href = 'http://imgur.com' title='imgur: the simple image sharer' target='_blank'> imgur.com</a>",l.position="absolute",l.right="20px",l.bottom="5px",l.fontSize="10px",d.appendChild(c),l=m.createElement("div"),l.innerHTML=a,l.style.padding="5px",d.appendChild(l),l=m.createElement("p"),l.style.paddingBottom="18px",l.style.marginTop="-9px",l.style.textDecoration="none",l.style.marginLeft="70px",d.appendChild(l),c=m.createElement("a"),c.href="#",c.id="upload-image-button",c.onclick=function(){return $("#divImgForm").show(),$("#divURLForm").hide(),$("#upload-image-button").addClass("selected"),$("#upload-url-button").removeClass("selected"),!1},c.className="wmd-mini-button selected",c.innerHTML=IMAGE_UPLOAD_POPUP_STRINGS.from_my_computer,c.style.padding="5px",c.style.textDecoration="none",l.appendChild(c),c=m.createElement("a"),c.href="#",c.className="wmd-mini-button",c.id="upload-url-button",c.onclick=function(){return $("#divImgForm").hide(),$("#divURLForm").show(),$("#upload-url-button").addClass("selected"),$("#upload-image-button").removeClass("selected"),!1},c.innerHTML=IMAGE_UPLOAD_POPUP_STRINGS.from_the_web,c.style.padding="5px",c.style.textDecoration="none",l.appendChild(c);var h=m.createElement("div");h.id="divImgForm",d.appendChild(h),c=m.createElement("div"),c.id="divURLForm",c.style.display="none",d.appendChild(c);var i=m.createElement("form"),l=i.style;i.onsubmit=function(){return g(!1,!0)},i.method="post",i.enctype="multipart/form-data",l.padding="0",l.margin="0",l.marginBottom="20px",l.cssFloat="left",l.width="100%",l.textAlign="center",l.position="relative",h.appendChild(i),h=m.createElement("div"),h.id="upload-file-input",l=h.style,l.position="relative",l.height="40px",i.appendChild(h);var n=m.createElement("img");n.src="http://i.imgur.com/GKc7H.png",n.height="15",n.width="15",l=n.style,l.verticalAlign="middle",l.marginRight="6px",h.appendChild(n),n=m.createElement("input"),n.type="file",n.name="filename",n.id="filename-input",l=n.style,l.verticalAlign="middle",l.border="0",h.appendChild(n),n=m.createElement("p"),n.id="message_image",n.innerHTML=IMAGE_UPLOAD_POPUP_STRINGS.click_browse,l=n.style,h.appendChild(n),n=m.createElement("div"),n.id="ImageUploadProgress",n.innerHTML=IMAGE_UPLOAD_POPUP_STRINGS.uploading+"<div class='image_upload_progress' style='float:right;'></div>",l=n.style,l.backgroundColor="transparent",l.marginTop="10px",l.display="none",h.appendChild(n),n=m.createElement("p"),n.id="error_image",n.innerHTML=IMAGE_UPLOAD_POPUP_STRINGS.incorrect_file_format,l=n.style,l.color="#8B0000",l.display="none",h.appendChild(n),h=m.createElement("input"),h.type="submit",h.className="upload_button_style",h.id="uploadButton",h.onclick=function(){return g(!1,!0)},h.value=IMAGE_UPLOAD_POPUP_STRINGS.upload,l=h.style,l.margin="10px",l.display="inline",l.width="7em",l.marginTop="18px",n=m.createElement("input"),n.type="button",n.className="upload_button_style",n.onclick=function(){return g(!0,!0)},n.value=IMAGE_UPLOAD_POPUP_STRINGS.cancel,l=n.style,l.margin="10px",l.display="inline",l.width="7em",l.marginTop="18px",i.appendChild(h),i.appendChild(n),i=m.createElement("form"),l=i.style,i.onsubmit=function(){return g(!1,!1)},i.method="post",i.enctype="multipart/form-data",l.padding="0",l.margin="0",l.marginBottom="20px",l.cssFloat="left",l.width="100%",l.textAlign="center",l.position="relative",c.appendChild(i),c=m.createElement("div"),c.id="upload-url-input",l=c.style,l.height="40px",i.appendChild(c),e=m.createElement("input"),e.type="input",e.name="upload-url",e.value=b,l=e.style,l.display="block",l.width="80%",l.marginLeft=l.marginRight="auto",c.appendChild(e),h=m.createElement("p"),h.id="message_url",h.innerHTML="paste the URL of your image above",l=h.style,c.appendChild(h),h=m.createElement("p"),h.id="error_url",h.innerHTML="URL given is not a valid image, it should end with .jpg or .png ",l=h.style,l.color="#8B0000",l.display="none",c.appendChild(h),c=m.createElement("input"),c.type="submit",c.id="uploadButtonURL",c.className="upload_button_style",c.onclick=function(){return g(!1,!1)},c.value="Upload",l=c.style,l.margin="10px",l.display="inline",l.width="7em",l.marginTop="18px",h=m.createElement("input"),h.type="button",h.className="upload_button_style",h.onclick=function(){return g(!0,!1)},h.value="Cancel",l=h.style,l.margin="10px",l.display="inline",l.width="7em",l.marginTop="18px",i.appendChild(c),i.appendChild(h),j.addEvent(m.body,"keydown",f),d.style.top="50%",d.style.left="50%",d.style.display="block",p.isIE_5or6&&(d.style.position="absolute",d.style.top=m.documentElement.scrollTop+200+"px",d.style.left="50%"),m.body.appendChild(d),d.style.marginTop=-(k.getHeight(d)/2)+"px",d.style.marginLeft=-(k.getWidth(d)/2)+"px"};setTimeout(function(){h();var a=b.length;if(void 0!==e.selectionStart)e.selectionStart=0,e.selectionEnd=a;else if(e.createTextRange){var c=e.createTextRange();c.collapse(!1),c.moveStart("character",-a),c.moveEnd("character",a),c.select()}e.focus()},0)},l.prompt_link=function(a,b,c){var d,e;void 0===b&&(b="");var f=function(a){if(27===(a.charCode||a.keyCode))return a.stopPropagation&&a.stopPropagation(),g(!0),!1},g=function(a){j.removeEvent(m.body,"keyup",f);var b=e.value;return a?b=null:(b=b.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(b)||(b="http://"+b)),d.parentNode.removeChild(d),c(b),!1},h=function(){d=m.createElement("div"),d.className="wmd-prompt-dialog",d.style.padding="10px;",d.style.position="fixed",d.style.width="400px",d.style.zIndex="1000001";var c=m.createElement("div");c.innerHTML=a,c.style.padding="5px",d.appendChild(c),c=m.createElement("form");var h=c.style;c.onsubmit=function(){return g(!1)},h.padding="0",h.margin="0",h.cssFloat="left",h.width="100%",h.textAlign="center",h.position="relative",d.appendChild(c),e=m.createElement("input"),e.type="text",e.value=b,h=e.style,h.display="block",h.width="80%",h.marginLeft=h.marginRight="auto",c.appendChild(e);var i=m.createElement("p");i.id="message_link",i.innerHTML="http://example.com/",h=i.style,c.appendChild(i),i=m.createElement("input"),i.type="button",i.className="upload_button_style",i.onclick=function(){return g(!1)},i.value="OK",h=i.style,h.margin="10px",h.display="inline",h.width="7em";var l=m.createElement("input");l.type="button",l.className="upload_button_style",l.onclick=function(){return g(!0)},l.value="Cancel",h=l.style,h.margin="10px",h.display="inline",h.width="7em",c.appendChild(i),c.appendChild(l),j.addEvent(m.body,"keyup",f),d.style.top="50%",d.style.left="50%",d.style.display="block",p.isIE_5or6&&(d.style.position="absolute",d.style.top=m.documentElement.scrollTop+200+"px",d.style.left="50%"),m.body.appendChild(d),d.style.marginTop=-(k.getHeight(d)/2)+"px",d.style.marginLeft=-(k.getWidth(d)/2)+"px"};setTimeout(function(){h();var a=b.length;if(void 0!==e.selectionStart)e.selectionStart=0,e.selectionEnd=a;else if(e.createTextRange){var c=e.createTextRange();c.collapse(!1),c.moveStart("character",-a),c.moveEnd("character",a),c.select()}e.focus()},0)};var r=h.prototype;r.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",r.unwrap=function(a){var b=new n("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");a.selection=a.selection.replace(b,"$1 $2")},r.wrap=function(a,b){this.unwrap(a);var c=new n("(.{1,"+b+"})( +|$\\n?)","gm"),d=this;a.selection=a.selection.replace(c,function(a,b){return(new n("^"+d.prefixes,"")).test(a)?a:b+"\n"}),a.selection=a.selection.replace(/\s+$/,"")},r.doBold=function(a,b){return this.doBorI(a,b,2,this.getString("boldexample"))},r.doItalic=function(a,b){return this.doBorI(a,b,1,this.getString("italicexample"))},r.doBorI=function(a,b,c,d){a.trimWhitespace(),a.selection=a.selection.replace(/\n{2,}/g,"\n");var e=/(\**$)/.exec(a.before)[0];b=/(^\**)/.exec(a.after)[0],e=Math.min(e.length,b.length),e>=c&&(2!=e||1!=c)?(a.before=a.before.replace(n("[*]{"+c+"}$",""),""),a.after=a.after.replace(n("^[*]{"+c+"}",""),"")):!a.selection&&b?(a.after=a.after.replace(/^([*_]*)/,""),a.before=a.before.replace(/(\s?)$/,""),a.before=a.before+b+n.$1):(a.selection||b||(a.selection=d),c=1>=c?"*":"**",a.before+=c,a.after=c+a.after)},r.stripLinkDefs=function(a,b){return a=a.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(a,c,d,e,f){return b[c]=a.replace(/\s*$/,""),e?(b[c]=a.replace(/["(](.+?)[")]$/,""),e+f):""})},r.addLinkDef=function(a,b){var c=0,d={};a.before=this.stripLinkDefs(a.before,d),a.selection=this.stripLinkDefs(a.selection,d),a.after=this.stripLinkDefs(a.after,d);for(var e="",f=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,g=a.before+a.selection+a.after,h=this.converter.makeHtml(g),i="http://this-is-a-real-link.biz/";-1!=h.indexOf(i);)i+="nicetry/";var j="\n\n",k=0;g=g.replace(f,function n(a,b,c,d,e,g,h){return k+=h,j+=" ["+k+"]: "+i+k+"/unicorn\n",k+=b.length,c=c.replace(f,n),k-=b.length,a=b+c+d+k+g,k-=h,a}),h=this.converter.makeHtml(g+j);var l=function(a){c++,a=a.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+c+"]:"),e+="\n"+a},m=function(a,b,e,g,j,n,o){return-1===h.indexOf(i+(k+o)+"/unicorn")?a:(k+=o+b.length,e=e.replace(f,m),k-=o+b.length,d[j]?(l(d[j]),b+e+g+c+n):a)};return g=a.before.length,a.before=a.before.replace(f,m),k+=g,g=a.selection.length,b?l(b):a.selection=a.selection.replace(f,m),k+=g,g=c,a.after=a.after.replace(f,m),a.after&&(a.after=a.after.replace(/\n*$/,"")),a.after||(a.selection=a.selection.replace(/\n*$/,"")),a.after+="\n\n"+e,g},r.doLinkOrImage=function(a,b,c){a.trimWhitespace(),a.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);if(1<a.endTag.length&&0<a.startTag.length)a.startTag=a.startTag.replace(/!?\[/,""),a.endTag="",this.addLinkDef(a,null);else{if(a.selection=a.startTag+a.selection+a.endTag,a.startTag=a.endTag="",!/\n\n/.test(a.selection)){var d=this,e=function(e){f.parentNode.removeChild(f),null!==e&&(a.selection=(" "+a.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1),e=" [999]: "+i(e),e=d.addLinkDef(a,e),a.startTag=c?"![":"[",a.endTag="]["+e+"]{:target='_blank'}",a.selection||(a.selection=c?d.getString("imagedescription"):d.getString("linkdescription"))),b()},f=l.createBackground();return c?this.hooks.insertImageDialog(e)||l.prompt(this.getString("imagedialog"),"http://",e):l.prompt_link(this.getString("linkdialog"),"http://",e),!0}this.addLinkDef(a,null)}},r.doAutoindent=function(a,b){var c=!1;a.before=a.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n"),a.before=a.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n"),a.before=a.before.replace(/(\n|^)[ \t]+\n$/,"\n\n"),a.selection||/^[ \t]*(?:\n|$)/.test(a.after)||(a.after=a.after.replace(/^[^\n]*/,function(b){return a.selection=b,""}),c=!0),/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(a.before)&&this.doList&&this.doList(a),/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(a.before)&&this.doBlockquote&&this.doBlockquote(a),/(\n|^)(\t|[ ]{4,}).*\n$/.test(a.before)&&this.doCode&&this.doCode(a),c&&(a.after=a.selection+a.after,a.selection="")},r.doBlockquote=function(a,b){a.selection=a.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(b,c,d,e){return a.before+=c,a.after=e+a.after,d}),a.before=a.before.replace(/(>[ \t]*)$/,function(b,c){return a.selection=c+a.selection,""}),a.selection=a.selection.replace(/^(\s|>)+$/,""),a.selection=a.selection||this.getString("quoteexample");var c="",d="";if(a.before){for(var e=a.before.replace(/\n$/,"").split("\n"),f=!1,g=0;g<e.length;g++){var h=!1,i=e[g];f=f&&0<i.length,/^>/.test(i)?(h=!0,!f&&1<i.length&&(f=!0)):h=/^[ \t]*$/.test(i)?!0:f,h?c+=i+"\n":(d+=c+i,c="\n")}/(^|\n)>/.test(c)||(d+=c,c="")}a.startTag=c,a.before=d,a.after&&(a.after=a.after.replace(/^\n?/,"\n")),a.after=a.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(b){return a.endTag=b,""}),c=function(b){var c=b?"> ":"";a.startTag&&(a.startTag=a.startTag.replace(/\n((>|\s)*)\n$/,function(a,b){return"\n"+b.replace(/^[ ]{0,3}>?[ \t]*$/gm,c)+"\n"})),a.endTag&&(a.endTag=a.endTag.replace(/^\n((>|\s)*)\n/,function(a,b){return"\n"+b.replace(/^[ ]{0,3}>?[ \t]*$/gm,c)+"\n"}))},/^(?![ ]{0,3}>)/m.test(a.selection)?(this.wrap(a,70),a.selection=a.selection.replace(/^/gm,"> "),c(!0),a.skipLines()):(a.selection=a.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(a),c(!1),!/^(\n|^)[ ]{0,3}>/.test(a.selection)&&a.startTag&&(a.startTag=a.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(a.selection)&&a.endTag&&(a.endTag=a.endTag.replace(/^\n{0,2}/,"\n\n"))),a.selection=this.hooks.postBlockquoteCreation(a.selection),/\n/.test(a.selection)||(a.selection=a.selection.replace(/^(> *)/,function(b,c){return a.startTag+=c,""}))},r.doCode=function(a,b){var c=/\S[ ]*$/.test(a.before);if(!/^[ ]*\S/.test(a.after)&&!c||/\n/.test(a.selection)){a.before=a.before.replace(/```.*\n$/,function(b){return a.selection=b+a.selection,""});var d=c=1;/(\n|^)```.*\n$/.test(a.before)&&(c=0),/^\n```/.test(a.after)&&(d=0),a.skipLines(c,d),a.selection?(a.findTags(/```.*\n/,/\n```/),a.startTag&&a.endTag?a.startTag=a.endTag="":(a.startTag="```\n",a.endTag="\n```")):(a.startTag="```\n",a.selection=this.getString("codeexample"),a.endTag="\n```")}else a.trimWhitespace(),a.findTags(/`/,/`/),a.startTag||a.endTag?a.endTag&&!a.startTag?(a.before+=a.endTag,a.endTag=""):a.startTag=a.endTag="":(a.startTag=a.endTag="`",a.selection||(a.selection=this.getString("codeexample")))},r.doList=function(a,b,c){b=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/;var d="-",e=1,f=function(){if(c){var a=" "+e+". ";e++}else a=" "+d+" ";return a},g=function(a){return void 0===c&&(c=/^\s*\d/.test(a)),a=a.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(a){return f()})};a.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),!a.before||/\n$/.test(a.before)||/^\n/.test(a.startTag)||(a.before+=a.startTag,a.startTag="");if(a.startTag){var h=/\d+[.]/.test(a.startTag);a.startTag="",a.selection=a.selection.replace(/\n[ ]{4}/g,"\n"),this.unwrap(a),a.skipLines(),h&&(a.after=a.after.replace(b,g));if(c==h)return}var i=1;a.before=a.before.replace(/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,function(a){return/^\s*([*+-])/.test(a)&&(d=n.$1),i=/[^\n]\n\n[^\n]/.test(a)?1:0,g(a)}),a.selection||(a.selection=this.getString("litem")),h=f();var j=1;a.after=a.after.replace(b,function(a){return j=/[^\n]\n\n[^\n]/.test(a)?1:0,g(a)}),a.trimWhitespace(!0),a.skipLines(i,j,!0),a.startTag=h,b=h.replace(/./g," "),this.wrap(a,72-b.length),a.selection=a.selection.replace(/\n/g,"\n"+b)},r.doHeading=function(a,b){a.selection=a.selection.replace(/\s+/g," "),a.selection=a.selection.replace(/(^\s+|\s+$)/g,"");if(a.selection){var c=0;a.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(a.startTag)&&(c=n.lastMatch.length),a.startTag=a.endTag="",a.findTags(null,/\s?(-+|=+)/),/=+/.test(a.endTag)&&(c=1),/-+/.test(a.endTag)&&(c=2),a.startTag=a.endTag="",a.skipLines(1,1),c=0==c?2:c-1;if(0<c){c=2<=c?"-":"=";var d=a.selection.length;72<d&&(d=72);for(a.endTag="\n";d--;)a.endTag+=c}}else a.startTag="## ",a.selection=this.getString("headingexample"),a.endTag=" ##"},r.doHorizontalRule=function(a,b){a.startTag="----------\n",a.selection="",a.skipLines(2,1,!0)}}(),function(){function a(a){return a.replace(/^\s+|\s+$/g,"")}function b(a,b){return a.replace(/<[^>]*>?/gi,function(a){return a.match(b)?a:""})}function c(a){return""!=a.charAt(0)&&(a=""+a),""!=a.charAt(a.length-1)&&(a+=""),a}function d(a){return""==a.charAt(0)&&(a=a.substr(1)),""==a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),a}function e(a,c){return b(f(a,c),j)}function f(a,b){var c=b.blockGamutHookCallback(a);return c=g(c),c=c.replace(/~D/g,"$$").replace(/~T/g,"~"),c=b.previousPostConversion(c)}function g(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})}function h(a){return a.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function i(a,b){var c=b.replace(/&#8220;/g,'"');return c=c.replace(/&#8221;/g,'"'),c=c.replace(/&#8216;/g,"'"),c=c.replace(/&#8217;/g,"'"),c=c.replace(/&#8212;/g,"---"),c=c.replace(/&#8211;/g,"--"),c=c.replace(/&#8230;/g,"...")}var j=/^(<\/?(a|abbr|acronym|applet|area|b|basefont|bdo|big|button|cite|code|del|dfn|em|figcaption|font|i|iframe|img|input|ins|kbd|label|map|mark|meter|object|param|progress|q|ruby|rp|rt|s|samp|script|select|small|span|strike|strong|sub|sup|textarea|time|tt|u|var|wbr)[^>]*>|<(br)\s?\/?>)$/i;Array.indexOf||(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1}),Markdown.Extra=function(){this.converter=null,this.hashBlocks=[],this.footnotes={},this.usedFootnotes=[],this.highlightJs=this.googleCodePrettify=this.attributeBlocks=!1,this.tableClass="",this.tabWidth=4},Markdown.Extra.init=function(a,b){var c=new Markdown.Extra,d=[],e=[],f=[],g=["unHashExtraBlocks"];return b=b||{},b.extensions=b.extensions||["all"],-1!=b.extensions.indexOf("all")&&(b.extensions="tables fenced_code_gfm def_list attr_list footnotes smartypants strikethrough newlines".split(" ")),e.push("wrapHeaders"),-1!=b.extensions.indexOf("attr_list")&&(d.push("hashFcbAttributeBlocks"),e.push("hashHeaderAttributeBlocks"),g.push("applyAttributeBlocks"),c.attributeBlocks=!0),-1!=b.extensions.indexOf("fenced_code_gfm")&&(e.push("fencedCodeBlocks"),d.push("fencedCodeBlocks")),-1!=b.extensions.indexOf("tables")&&e.push("tables"),-1!=b.extensions.indexOf("def_list")&&e.push("definitionLists"),-1!=b.extensions.indexOf("footnotes")&&(d.push("stripFootnoteDefinitions"),e.push("doFootnotes"),g.push("printFootnotes")),-1!=b.extensions.indexOf("smartypants")&&g.push("runSmartyPants"),-1!=b.extensions.indexOf("strikethrough")&&f.push("strikethrough"),-1!=b.extensions.indexOf("newlines")&&f.push("newlines"),a.hooks.chain("postNormalization",function(a){return c.doTransform(d,a)+"\n"}),a.hooks.chain("preBlockGamut",function(a,b){return c.blockGamutHookCallback=b,a=a.replace(/\\\|/g,"~I").replace(/\\:/g,"~i"),a=c.doTransform(e,a)+"\n",a=a.replace(/~I/g,"|").replace(/~i/g,":")}),a.hooks.chain("postSpanGamut",function(a){return c.doTransform(f,a)}),c.previousPostConversion=a.hooks.postConversion,a.hooks.chain("postConversion",function(a){return a=c.doTransform(g,a),c.hashBlocks=[],c.footnotes={},c.usedFootnotes=[],a}),"highlighter"in b&&(c.googleCodePrettify="prettify"===b.highlighter,c.highlightJs="highlight"===b.highlighter),"table_class"in b&&(c.tableClass=b.table_class),c.converter=a,c},Markdown.Extra.prototype.doTransform=function(a,b){for(var c=0;c<a.length;c++)b=this[a[c]](b);return b},Markdown.Extra.prototype.hashExtraBlock=function(a){return"\n<p>~X"+(this.hashBlocks.push(a)-1)+"X</p>\n"},Markdown.Extra.prototype.hashExtraInline=function(a){return"~X"+(this.hashBlocks.push(a)-1)+"X"},Markdown.Extra.prototype.unHashExtraBlocks=function(a){function b(){var d=!1;a=a.replace(/(?:<p>)?~X(\d+)X(?:<\/p>)?/g,function(a,b){d=!0;var e=parseInt(b,10);return c.hashBlocks[e]}),!0===d&&b()}var c=this;return b(),a},Markdown.Extra.prototype.wrapHeaders=function(a){function b(a){return"\n"+a+"\n"}return a=a.replace(/^.+[ \t]*\n=+[ \t]*\n+/gm,b),a=a.replace(/^.+[ \t]*\n-+[ \t]*\n+/gm,b),a=a.replace(/^#{1,6}[ \t]*.+?[ \t]*#*\n+/gm,b)};var k=RegExp("^(#{1,6}.*#{0,6})[ \\t]+\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}[ \\t]*(?:\\n|0x03)","gm"),l=RegExp("^(.*)[ \\t]+\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}[ \\t]*\\n(?=[\\-|=]+\\s*(?:\\n|0x03))","gm"),m=RegExp("^(```[^`\\n]*)[ \\t]+\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}[ \\t]*\\n(?=([\\s\\S]*?)\\n```[ \\t]*(\\n|0x03))","gm");Markdown.Extra.prototype.hashHeaderAttributeBlocks=function(a){function b(a,b,d){return"<p>~XX"+(c.hashBlocks.push(d)-1)+"XX</p>\n"+b+"\n"}var c=this;return a=a.replace(k,b),a=a.replace(l,b)},Markdown.Extra.prototype.hashFcbAttributeBlocks=function(a){var b=this;return a.replace(m,function(a,c,d){return"<p>~XX"+(b.hashBlocks.push(d)-1)+"XX</p>\n"+c+"\n"})},Markdown.Extra.prototype.applyAttributeBlocks=function(a){var b=this;return a=a.replace(RegExp('<p>~XX(\\d+)XX</p>[\\s]*(?:<(h[1-6]|pre)(?: +class="(\\S+)")?(>[\\s\\S]*?</\\2>))',"gm"),function(a,c,d,e,f){if(!d)return"";a=parseInt(c,10),c=b.hashBlocks[a],a=c.match(/#[^\s#.]+/g)||[],a=a[0]?' id="'+a[0].substr(1,a[0].length-1)+'"':"";var g=c.match(/\.[^\s#.]+/g)||[];for(c=0;c<g.length;c++)g[c]=g[c].substr(1,g[c].length-1);c="";if(e){var h=[e];e={};for(var i=0;i<g.length;i++)e[g[i]]=g[i];for(i=0;i<h.length;i++)e[h[i]]=h[i];g=[];for(var j in e)e.hasOwnProperty(j)&&g.push(e[j])}return 0<g.length&&(c=' class="'+g.join(" ")+'"'),"<"+d+a+c+f})},Markdown.Extra.prototype.tables=function(b){function c(b,c,f,g,h,i){c=c.replace(/^ *[|]/m,""),f=f.replace(/^ *[|]/m,""),g=g.replace(/^ *[|]/gm,""),c=c.replace(/[|] *$/m,""),f=f.replace(/[|] *$/m,""),g=g.replace(/[|] *$/gm,""),h=f.split(/ *[|] */),b=[];for(f=0;f<h.length;f++)i=h[f],i.match(/^ *-+: *$/m)?b[f]=' align="right"':i.match(/^ *:-+: *$/m)?b[f]=' align="center"':i.match(/^ *:-+ *$/m)?b[f]=' align="left"':b[f]="";i=c.split(/ *[|] */),c=i.length,h=["<table",d.tableClass?' class="'+d.tableClass+'"':"",">\n<thead>\n<tr>\n"].join("");for(f=0;f<c;f++){var j=e(a(i[f]),d);h+=["  <th",b[f],">",j,"</th>\n"].join("")}h+="</tr>\n</thead>\n",g=g.split("\n");for(f=0;f<g.length;f++)if(!g[f].match(/^\s*$/)){i=g[f].split(/ *[|] */);var k=c-i.length;for(j=0;j<k;j++)i.push("");h+="<tr>\n";for(j=0;j<c;j++)k=e(a(i[j]),d),h+=["  <td",b[j],">",k,"</td>\n"].join("");h+="</tr>\n"}return d.hashExtraBlock(h+"</table>\n")}var d=this,f=RegExp("^[ ]{0,3}(\\S.*[|].*)\\n[ ]{0,3}([-:]+[ ]*[|][-| :]*)\\n((?:.*[|].*\\n?)*)(?:\\n|$)","gm");return b=b.replace(RegExp("^[ ]{0,3}[|](.+)\\n[ ]{0,3}[|]([ ]*[-:]+[-| :]*)\\n((?:[ ]*[|].*\\n?)*)(?:\\n|$)","gm"),c),b=b.replace(f,c)},Markdown.Extra.prototype.stripFootnoteDefinitions=function(a){var b=this;return a=a.replace(/\n[ ]{0,3}\[\^(.+?)\]:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n[ ]{0,3}\S)|$)/g,function(a,c,d){return c=h(c),d=(d+"\n").replace(/^[ ]{0,3}/g,""),b.footnotes[c]=d,"\n"})},Markdown.Extra.prototype.doFootnotes=function(a){var b=this;if(!0===b.isConvertingFootnote)return a;var c=0;return a=a.replace(/\[\^(.+?)\]/g,function(a,d){var e=h(d);return void 0===b.footnotes[e]?a:(c++,b.usedFootnotes.push(e),b.hashExtraInline('<a href="#fn:'+e+'" id="fnref:'+e+'" title="See footnote" class="footnote">'+c+"</a>"))})},Markdown.Extra.prototype.printFootnotes=function(a){if(0===this.usedFootnotes.length)return a;a+='\n\n<div class="footnotes">\n<hr>\n<ol>\n\n';for(var b=0;b<this.usedFootnotes.length;b++){var c=this.usedFootnotes[b],d=this.footnotes[c];this.isConvertingFootnote=!0,d=e(d,this),delete this.isConvertingFootnote,a+='<li id="fn:'+c+'">'+d+' <a href="#fnref:'+c+'" title="Return to article" class="reversefootnote">&#8617;</a></li>\n\n'}return a+"</ol>\n</div>"},Markdown.Extra.prototype.fencedCodeBlocks=function(b){function c(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~")}var d=this;return b=b.replace(/(?:^|\n)```([^`\n]*)\n([\s\S]*?)\n```[ \t]*(?=\n)/g,function(b,e,f){b=a(e),e=d.googleCodePrettify?' class="prettyprint"':"";var g="";return b&&(g=d.googleCodePrettify||d.highlightJs?' class="language-'+b+'"':' class="'+b+'"'),f=["<pre",e,"><code",g,">",c(f),"</code></pre>"].join(""),d.hashExtraBlock(f)})},Markdown.Extra.prototype.educatePants=function(a){var b=this,c="",d=0;a.replace(/(?:\x3c!--[\s\S]*?--\x3e)|(<)([a-zA-Z1-6]+)([^\n]*?>)([\s\S]*?)(<\/\2>)/g,function(e,f,g,h,i,j,k){var l=a.substring(d,k);c+=b.applyPants(l),b.smartyPantsLastChar=c.substring(c.length-1),d=k+e.length,f?(/code|kbd|pre|script|noscript|iframe|math|ins|del|pre/i.test(g)?b.smartyPantsLastChar=i.substring(i.length-1):i=b.educatePants(i),c+=f+g+h+i+j):c+=e});var e=a.substring(d);return c+=b.applyPants(e),b.smartyPantsLastChar=c.substring(c.length-1),c},Markdown.Extra.prototype.applyPants=function(a){return a=a.replace(/---/g,"&#8212;").replace(/--/g,"&#8211;"),a=a.replace(/\.\.\./g,"&#8230;").replace(/\.\s\.\s\./g,"&#8230;"),a=a.replace(/``/g,"&#8220;").replace(/''/g,"&#8221;"),/^'$/.test(a)?/\S/.test(this.smartyPantsLastChar)?"&#8217;":"&#8216;":/^"$/.test(a)?/\S/.test(this.smartyPantsLastChar)?"&#8221;":"&#8220;":(a=a.replace(/^'(?=[!"#\$%'()*+,\-.\/:;<=>?@\[\\]\^_`{|}~]\B)/,"&#8217;"),a=a.replace(/^"(?=[!"#\$%'()*+,\-.\/:;<=>?@\[\\]\^_`{|}~]\B)/,"&#8221;"),a=a.replace(/"'(?=\w)/g,"&#8220;&#8216;"),a=a.replace(/'"(?=\w)/g,"&#8216;&#8220;"),a=a.replace(/'(?=\d{2}s)/g,"&#8217;"),a=a.replace(/(\s|&nbsp;|--|&[mn]dash;|&#8211;|&#8212;|&#x201[34];)'(?=\w)/g,"$1&#8216;"),a=a.replace(/([^\s\[\{\(\-])'/g,"$1&#8217;"),a=a.replace(/'(?=\s|s\b)/g,"&#8217;"),a=a.replace(/'/g,"&#8216;"),a=a.replace(/(\s|&nbsp;|--|&[mn]dash;|&#8211;|&#8212;|&#x201[34];)"(?=\w)/g,"$1&#8220;"),a=a.replace(/([^\s\[\{\(\-])"/g,"$1&#8221;"),a=a.replace(/"(?=\s)/g,"&#8221;"),a=a.replace(/"/ig,"&#8220;"))},Markdown.Extra.prototype.runSmartyPants=function(a){return this.smartyPantsLastChar="",a=this.educatePants(a),a=a.replace(/(<([a-zA-Z1-6]+)\b([^\n>]*?)(\/)?>)/g,i)},Markdown.Extra.prototype.definitionLists=function(b){var e=RegExp("(\\x02\\n?|\\n\\n)(?:(([ ]{0,3}((?:[ \\t]*\\S.*\\n)+)\\n?[ ]{0,3}:[ ]+)([\\s\\S]+?)((?=\\0x03)|(?=\\n{2,}(?=\\S)(?![ ]{0,3}(?:\\S.*\\n)+?\\n?[ ]{0,3}:[ ]+)(?![ ]{0,3}:[ ]+)))))","gm"),f=this;return b=c(b),b=b.replace(e,function(b,c,d){return b=a(f.processDefListItems(d)),c+f.hashExtraBlock("<dl>\n"+b+"\n</dl>")+"\n\n"}),d(b)},Markdown.Extra.prototype.processDefListItems=function(b){var g=this,h=RegExp("(\\x02\\n?|\\n\\n+)([ ]{0,3}(?![:][ ]|[ ])(?:\\S.*\\n)+?)(?=\\n?[ ]{0,3}:[ ])","gm"),i=RegExp("\\n(\\n+)?([ ]{0,3}[:][ ]+)([\\s\\S]+?)(?=\\n*(?:\\n[ ]{0,3}[:][ ]|<dt>|\\x03))","gm");return b=c(b),b=b.replace(/\n{2,}(?=\\x03)/,"\n"),b=b.replace(h,function(b,c,d){b=a(d).split("\n"),c="";for(d=0;d<b.length;d++){var f=b[d];f=e(a(f),g),c+="\n<dt>"+f+"</dt>"}return c+"\n"}),b=b.replace(i,function(a,b,c,d){return b||d.match(/\n{2,}/)?(d=Array(c.length+1).join(" ")+d,d=d.replace(RegExp("^(\\t|[ ]{1,4})","gm"),"")+"\n\n",d="\n"+f(d,g)+"\n"):(d=d.replace(/\s+$/g,""),d=e(d.replace(RegExp("^(\\t|[ ]{1,4})","gm"),""),g)),"\n<dd>"+d+"</dd>\n"}),d(b)},Markdown.Extra.prototype.strikethrough=function(a){return a.replace(/([\W_]|^)~T~T(?=\S)([^\r]*?\S[\*_]*)~T~T([\W_]|$)/g,"$1<del>$2</del>$3")},Markdown.Extra.prototype.newlines=function(a){return a.replace(/(<(?:br|\/li)>)?\n/g,function(a,b){return b?a:" <br>\n"})}}(),function(){Markdown.getCustomConverter=function(){var a=Markdown.getSanitizingConverter();return Markdown.Extra.init(a,{table_class:"pd-table",highlighter:"prettify",extensions:"abbr attr_list def_list fenced_code_gfm footnotes tables smart_strong strikethrough".split(" ")}),a}}();