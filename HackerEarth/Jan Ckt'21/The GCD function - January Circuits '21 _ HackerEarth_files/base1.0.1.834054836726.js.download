function capitalize(a){return a[0].toUpperCase()+a.slice(1)}function isEmptyString(a){return a.length==0?!0:!1}function getParameterByName(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return c==null?"":decodeURIComponent(c[1].replace(/\+/g," "))}function getParentForm(a){var b=a[0].form;return b=$(b),b}function showModal(a){var b=$("#"+a);b.show(),b.modal({onClose:function(a){a.data.fadeOut(300),a.container.fadeOut(300,function(){a.overlay.hide(),$.modal.close(),$(".modal-window").hide()})},onOpen:function(a){a.overlay.fadeIn(300),a.data.show(),a.container.fadeIn(300)}})}function addImageData(a,b){var c=a.find("input:file"),d=c[0].files[0],e=c.val();e=e.toLowerCase();var f=e.split("."),g=e.indexOf("\\")>=0?e.lastIndexOf("\\"):e.lastIndexOf("/"),h=e.substring(g);if(h.indexOf("\\")===0||h.indexOf("/")===0)h=h.substring(1);var i=!1;for(var j=0;j<ALLOWED_IMAGE_FORMATS.length;j++)if(ALLOWED_IMAGE_FORMATS[j]==f[f.length-1]){i=!0;break}i?(console.log("extension is allowed"),reader=new FileReader,reader.onload=function(a){alert("file has been read");var c=a.target.result,d=c.split(",")[1],e=c.split(",")[0].split(":")[1].split("/")[1].split(";")[0];image_data={type:"base64",key:"88wvr0jnjv6xapcyfdmmf5x8gl47zawv",image_name:h,image_data:d},b={error:!1,image:image_data},console.log("returning the image data"),console.log(b.image),alert("setting asyncCompleted to true")},reader.onerror=function(a){alert(a.getMessage()),b={error:!0},asyncCompleted=!0},reader.readAsDataURL(d)):(console.log("extension is not allowed"),b={error:!0})}function domElementLive(){try{$(".tool-tip").tipTip({defaultPosition:"top"}),$(".no-escape-tool-tip").tipTip({defaultPosition:"top",noEscape:!0})}catch(a){debug&&console.log(a.message)}try{$(".nice-scrollbar").niceScroll(niceScrollArgs);var b=$(".nice-scrollbar").getNiceScroll();b.resize()}catch(a){debug&&console.log(a.message)}try{$(".custom-scrollbar").mCustomScrollbar(customScrollbarArgs)}catch(a){debug&&console.log(a.message)}try{$(".nice-scrollbar-dark").niceScroll(niceScrollArgs);var b=$(".nice-scrollbar-dark").getNiceScroll();b.resize()}catch(a){debug&&console.log(a.message)}try{styleCode()}catch(a){debug&&console.log(a.message)}$("form.disabled").each(function(){$(this).find("input").each(function(){$(this).attr("disabled","disabled")})}),init_sticky()}function init_sticky(){$(".sticky-item").each(function(a){var b=$(this),c=b.attr("is-sticky");if(c!==undefined)return;var d={},e=b.attr("sticky-top");e===undefined?e=0:e=parseInt(e),d.topSpacing=e;var f=b.attr("sticky-bottom");f===undefined?f=0:f=parseInt(f),d.bottomSpacing=f,d.responsiveWidth=!0,b.sticky(d),b.attr("is-sticky","true"),b.width(b.width()+"px"),b.parent().css("height","auto")})}function loadScripts(a,b,c){if(typeof c!="undefined")var d=!1,e=!1,f=function(){return c&&c(),!1},g=setTimeout(f,4e4);var h=function(a,b){typeof c!="undefined"&&(d=!1,e=!0);var f=document.createElement("script");f.src=a,f.crossOrigin="anonymous",f.onload=function(){typeof c!="undefined"&&(d=!0,clearTimeout(g)),b()},f.onreadystatechange=function(){this.readyState=="complete"&&(typeof c!="undefined"&&(d=!0,clearTimeout(g)),b())},typeof c!="undefined"&&f.addEventListener("error",function(){d=!1,clearTimeout(g),b()},!0);var h=document.getElementsByTagName("head")[0];(h||document.body).appendChild(f)};(function(){if(typeof c!="undefined"&&d==0&&e==1)return c&&c(),!1;if(a.length==0)return b&&b(),!1;h(a.shift(),arguments.callee)})()}function loadCSS(a,b){var c=function(a,b){var c=document.createElement("link");c.href=a,c.rel="stylesheet";var d=document.getElementsByTagName("head")[0];c.onload=c.onreadystatechange=function(){c.onreadystatechange=c.onload=null,b()},d.appendChild(c)};(function(){a.length!=0?c(a.shift(),arguments.callee):b&&b()})()}function loadScriptsReady(){typeof loadScripts!="undefined"?loadScripts(G_SCRIPTS,function(){G_SCRIPTS_LOADED=!0,$(".load-javascript-div").show(),$(".load-javascript").hide()}):setTimeout(loadScriptsReady,100)}function updateAncestorsOnLoaderMount(a,b){if(b<=0)return;var c=a.parents();for(var d=0;d<c.length&&d<b;d++)$(c[d]).addClass("no-scroll")}function updateAncestorsOnLoaderUnmount(a,b){if(b<=0)return;var c=a.parents();for(var d=0;d<c.length&&d<b;d++)$(c[d]).removeClass("no-scroll")}function insertLoader(a,b){if(typeof b=="undefined"||b===null)b={};var c='<div class="generic-loader-wrapper';b.isOpaque&&(c+=" white-background",a.children().addClass("forced-not-visible")),c+='">',b.loaderText&&(c+='<div class="loading-heading align-center standard-margin larger dark weight-700 large-20"',b.fontSize&&(c+='style="font-size: '+b.fontSize+'"'),c+=">"+b.loaderText+"</div>"),c+='   <div class="dots-loader" style="margin:20px auto;"></div></div>',a.css("position")==="static"&&a.css("position","relative").data("setInitialPos","static"),a.addClass("no-scroll full-height"),b.noScrollParentsLevel===undefined&&(b.noScrollParentsLevel=0),updateAncestorsOnLoaderMount(a,b.noScrollParentsLevel),a.data("noScrollParentsLevel",b.noScrollParentsLevel).append(c)}function removeLoader(a){updateAncestorsOnLoaderUnmount(a,a.data("noScrollParentsLevel")),a.removeClass("no-scroll full-height"),a.children().removeClass("forced-not-visible"),a.data("setInitialPos")==="static"&&a.css("position","static"),a.children(".generic-loader-wrapper").remove()}function hideAlertContainer(){var a=$("#alert-message-holder");a.length==0&&(a=$("#fancy-alert-message-holder"));var b=a.find(".alert-message"),c=b.first(),d=c.clone();d.addClass("hidden"),b.each(function(){var a=$(this);a.hasClass("hidden")?a.remove():a.hasClass("permanent")||(a.hasClass("fancy-alert-message")?setTimeout(function(){a.slideUp(1e3)},2e3):setTimeout(function(){a.fadeOut(function(){a.remove()})},MESSAGE_FADEOUT_TIME))}),a.append(d)}function addAlert(a,b){var c=$("#alert-message-holder");c.length==0&&(c=$("#fancy-alert-message-holder"));var d=c.find(".alert-message"),e=d.first(),f=e.clone();f.find(".message").text(a),f.removeClass("permanent"),f.removeClass("hidden"),typeof b!=undefined&&b==1&&f.addClass("permanent"),c.append(f),hideAlertContainer()}function getBrowserInfo(){navigator.sayswho=function(){var a=navigator.userAgent,b=navigator.appName,c,d=a.match(/(opera|chrome|safari|firefox|msie|trident)\/?\s*([\d\.]+)/i)||[];return d=d[2]?[d[1],d[2]]:[b,navigator.appVersion,"-?"],d&&(c=a.match(/version\/([\.\d]+)/i))!=null&&(d[2]=c[1]),d.join(" ")}();var a=navigator.sayswho,b=a.split(" ");a=b[0].toLowerCase(),version=b[1];var c=version.split(".");return version=parseInt(c[0]),{name:a,version:version}}function createCookie(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+c*24*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"}function readCookie(a){var b=a+"=",c=document.cookie.split(";");for(var d=0;d<c.length;d++){var e=c[d];while(e.charAt(0)==" ")e=e.substring(1,e.length);if(e.indexOf(b)==0)return e.substring(b.length,e.length)}return null}function eraseCookie(a){createCookie(a,"",-1)}function closeAllModals(){$(".simplemodal-close").click()}function resizeIframe(a){var b=$("."+a);for(var c=0,d=b.length;c<d;c++)b[c].style.height=b[c].contentWindow.document.body.scrollHeight+"px"}function toggle_display_text_feedback(a){var b=$("#text_feedback_comment"),c=b.parent("div");a?c.fadeIn():c.fadeOut()}function feedback_success_action(){var a=$("#feedback-popup-container"),b=a.find(".save-feedback-popup").hasClass("clicked");if(b){var c=a.find("#feedback_cross_flag").val();c!=""?a.slideUp():(a.find(".feedback-prompt").hide(),a.find(".cross-feedback-popup").hide(),a.find("#feedback-success-message").show(),a.delay(2e3).slideUp())}}function executeFromStr(a,b){if(a){var c=a.split(" ");for(var d=0;d<c.length;d++){var e=c[d];b?window[e](b):window[e]()}}}function endTestCTAOnError(){typeof addAlert!="undefined"&&addAlert(SOMETHING_WENT_WRONG_ERROR_TEXT)}function parseName(a){var b=a.length,c=a.lastIndexOf("@");return c>=0&&c<b-1?a.substr(c+1,b-1):""}function handle_avatar_error(a){var b=$(a).attr("alt");b in avatar_errors||avatar_errors.push(b)}function check_avatar_errors(){var a=[];if(avatar_errors.length>0){for(var b=0;b<avatar_errors.length;b++){var c=avatar_errors[b];c in avatar_errors_sent||a.push(c)}avatar_errors=[]}if(a.length>0){var d=a.join(",");$.post("/avatar/AJAX/handle_client_errors/",{usernames:d},function(){for(var b=0;b<a.length;b++)avatar_errors_sent.push(a[b])})}}function set_profile_timezone(a){var b=$(a).attr("ajax");$.ajax({url:b,type:"POST",success:function(){location.reload(!0)}})}function changeUserLocale(a,b,c){if(a.value&&a.value!=b){var d=$("option:selected",a).attr("url"),e=$(a).attr("page_url"),f=a.value;if(c){var g=$(a).attr("ajax_url"),h={locale:f,page_url:e};$.ajax({url:g,type:"POST",data:h,success:function(c){c["status"]==AJAX_OK&&(c.redirect_required?window.location.href=c.redirect_url:$(a).val(b))}})}else encoded_value=Base64.encode(f),createCookie("ulang",encoded_value),createCookie("plang",encoded_value),window.location.href=d}}function changeAdminLocale(a,b){var c=$(a).attr("language_code"),d=$(a).attr("language");if(c!=b){var e=$(a).attr("ajax_url"),f={locale:c,page_url:window.location.pathname};$.ajax({url:e,type:"POST",data:f,success:function(a){a["status"]==AJAX_OK&&(a.redirect_required?window.location.href=a.redirect_url:($("#current-user-language").attr("language_code",c),$("#current-user-language").children("#language").text(d)))}})}}function addExternalLinkModalClassAndTargetAttr(a){$.each($(a),function(a,b){$(b).addClass("show-modal load-external-url").attr("target","external-link-modal")})}function openExternalLinksInModal(){addExternalLinkModalClassAndTargetAttr(".problem-description a"),addExternalLinkModalClassAndTargetAttr(".problem-statement a")}function readAndLoadExternalLinkInModal(a){var b=$("#external-link-content-wrapper > pre");b.html(LOADER_HTML),$.ajax({url:a,type:"GET",crossDomain:!0,success:function(a){b.text(a)},error:function(a){b.text(SOMETHING_WENT_WRONG_ERROR_TEXT)}})}function initLoadExternalURL(){$("body").on("click",".load-external-url",function(){var a=$(this).attr("href");if(!a)return!1;readAndLoadExternalLinkInModal(a)})}function initLeakedQuestion(){$("body").on("click",".leaked-question-container",function(a){a.stopPropagation();var b=$(this).data("url"),c=$(this).find(".description").html(),d=$("#leakedQuestionModal");if(d.length===0)return;b&&(d.find(".leaked-url").attr("href",b).find(".leaked-url-text").text(b),c&&(d.find(".description").html(c),d.find(".show-hide-cta").hide(),d.find(".description").removeClass("hidden")),showModal("leakedQuestionModal"))})}function createBlankTest(){var a=$(this),b=a.text(),c=a.data("clicked");a.text(c),a.attr("disabled"),a.addClass("disabled");var d={testDuration:0,questionSetData:[]};$.post(testCreationUrls.createTestApi,{data:JSON.stringify(d)}).done(function(a){a.status===AJAX_OK&&(window.location.href=a.eventUrl)}).fail(function(){typeof window.addAlert!="undefined"&&window.addAlert(window.SOMETHING_WENT_WRONG_ERROR_TEXT)}).always(function(){a.text(b),a.removeAttr("disabled"),a.removeClass("disabled")})}var debug=!1,G_SCRIPTS=[],G_SCRIPTS_LOADED=!1,EMAIL_RE=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,AJAX_OK="OK",AJAX_ERROR="ERROR",MAX_HEIGHT=250,ALLOWED_IMAGE_FORMATS=["png","jpg","jpeg"],LINKEDIN="linkedin",GITHUB="github",SPOJ="spoj",CODECHEF="codechef",TOPCODER="topcoder",STACKOVERFLOW="stackoverflow",ID_CLICK_BY_HISTORY=null,MESSAGE_FADEOUT_TIME=5e3,USER_TIMEZONE="NA",niceScrollArgs={cursorwidth:"7px",cursorcolor:"#CCC",cursorborder:"none",cursorborderradius:"0px",autohidemode:!1,background:"#EEE",nativeparentscrolling:!1,enablescrollonselection:!1},niceScrollDarkArgs={cursorwidth:"10px",cursorcolor:"#888",cursorborder:"none",cursorborderradius:"0px",autohidemode:!1,background:"#CCC",nativeparentscrolling:!1,enablescrollonselection:!1},customScrollbarArgs={scrollButtons:{enable:!1},theme:"my-theme",scrollbarPosition:"outside",autoHideScrollbar:!1,scrollInertia:100},LOADER_HTML="<div class='dots-loader'></div>",HORIZONTAL_LOADER_HTML="<div class='horizontal-loader'></div>",LOADER_HTML_NO_MARGIN="<div class='dots-loader-no-margin'></div>",LOADER_HTML_WITH_MARGIN="<div class='dots-loader' style='margin: 30px 0 30px 0';></div>";jQuery.fn.extend({tag_selectize:function(a,b,c){var d=!!c;a.constructor!=Array&&(a=[a]),$(this).selectize({delimiter:",",valueField:"tag",labelField:"tag",sortField:"tag",searchField:"tag",plugins:["remove_button"],persist:!1,create:b!==!1,render:{option:function(a,b){return"<div>"+b(a.tag.trim())+"</div>"}},load:function(b,c){for(var e in a)$.ajax({url:a[e]+"?term="+b+"&show_all="+d,type:"GET",dataType:"json",error:function(){c()},success:function(a){var b=a.map(function(a){return{tag:a}});c(b)}})}})}}),$(document).ready(function(){try{$(".nice-scrollbar").niceScroll(niceScrollArgs)}catch(a){debug&&console.log(a.message)}try{$(".custom-scrollbar").mCustomScrollbar(customScrollbarArgs)}catch(a){debug&&console.log(a.message)}try{$(".tool-tip").tipTip({defaultPosition:"top"}),$(".no-escape-tool-tip").tipTip({defaultPosition:"top",noEscape:!0})}catch(a){debug&&console.log(a.message)}try{$(".nice-scrollbar-dark").niceScroll(niceScrollDarkArgs)}catch(a){debug&&console.log(a.message)}init_sticky(),hideAlertContainer();try{summon_ghost()}catch(a){debug&&console.log(a.message)}$(".init-carousel").live("click",function(){$("#recommend-event-slider").tinycarousel(),$("#slide-bars").removeClass("hidden")}),$(".slide-up-div").live("click",function(){var a=$(this),b=a.attr("target");$("."+b).slideUp()}),$(".alert-message .cross-holder .small-cross").live("click",function(){$(this).parent().parent().remove()});if(typeof profile_completeness_percentage!="undefined"&&profile_completeness_percentage>=0){var b;profile_completeness_percentage>=75?b="#73b369":profile_completeness_percentage>=50?b="#f1c40f":profile_completeness_percentage>=25?b="#e67e22":profile_completeness_percentage>0?b="#dd4b39":(b="#dd4b39",profile_completeness_percentage=2),$(".profile-complete-bar-head .profile-complete-bar-done").width(profile_completeness_percentage+"%").css("background-color",b)}$("#searchbar-input").focusin(function(){$("#search-icon-container").addClass("in-focus")}),$("#searchbar-input").focusout(function(){$("#search-icon-container").removeClass("in-focus")}),$(".expand-sub-header a").on("mouseenter",function(){$(".sub-header").hide(),$("."+$(this).parent().attr("id")+"-header").show().css("left",Math.round($(this).parent().offset().left)+10),$("."+$(this).parent().attr("id")+"-header").find(".menu-arrow").css("left",Math.round($(this).parent().width()/2)-18)}),$(".expand-sub-header").on("mouseleave",function(a){(a.pageY<$(this).position().top+$(this).height()&&$(a.relatedTarget).hasClass("menu-arrow")!==!0||!$(a.relatedTarget).hasClass("menu-arrow")&&!$(a.relatedTarget).hasClass("sub-nav-bar"))&&$(".sub-header").hide()}),$(".sub-header").on("mouseleave",function(){$(".sub-header").hide()}),$(".mobile-menu-btn").one("click",function(a){var b;$(".nav-bar .nav-bar-menu").length>0&&($mobile=$("<ul/>").addClass("tablet-show nav-mobile nav-bar"),$(".nav-bar > li").each(function(){$(this).hasClass("expand-sub-header")?(b=$("."+$(this).attr("id")+"-header").find(".sub-nav-bar"),$mobile.append(b.html())):$(this).attr("id")=="hacker-dd-icon"?(b=$(this).attr("expand"),$mobile.append($("#"+b+" > ul").html())):$mobile.append($(this).clone())}),$mobile.find("hr").remove(),$mobile.find("a li").contents().unwrap(),$mobile.find("a.tablet-hide").remove(),$mobile.children("a").wrap("<li/>"),$(".right-nav-bar").after($mobile),$(".nav-mobile li").on("click",function(){$(".mobile-menu-btn").trigger("click")}))}).on("click",function(a){function g(){c.fadeOut(function(){c.removeClass("fa-bars").addClass("fa-arrow-left")}),d.addClass("right-transform"),c.fadeIn()}function h(){c.fadeOut(function(){c.removeClass("fa-arrow-left").addClass("fa-bars")}),d.removeClass("right-transform"),c.fadeIn()}var b=$(".nav-bar.nav-mobile"),c=$(this),d=$("body"),e=$("#header-primary").length>0,f=$("#mobile-menu-expand-primary");e?f.hasClass("visible")?(h(),f.removeClass("visible")):(g(),f.addClass("visible")):b.hasClass("visible")?(h(),b.removeClass("visible")):(g(),b.addClass("visible")),a.preventDefault()}),$(".nav-bar.nav-mobile").on("swipeleft",function(){var a=$(".nav-bar.nav-mobile"),b=$(this),c=$("body"),d=$("#header-primary").length>0,e=$("#mobile-menu-expand-primary");$(this).hasClass("visible")&&(b.fadeOut(function(){b.removeClass("fa-arrow-left").addClass("fa-bars")}),c.removeClass("right-transform"),b.fadeIn(),d?e.removeClass("visible"):a.removeClass("visible"))});var c;$(".nav-menu").live("click",function(a){var b,d;if(typeof c!="undefined"&&c!==null&&$(this).html()===c.html()){$(".expand-box").hide(),c.removeClass("selected");return}typeof c!="undefined"&&c!==null&&c.removeClass("selected"),c=$(this);var e=c.attr("id");if(typeof e=="undefined"||e==="undefined")return;var d=$("#"+e),f=$("#"+d.attr("expand"));if(typeof f=="undefined")return;$(".expand-box").hide(),d.addClass("selected");var g=d.offset(),h=c.attr("pos");typeof h!="undefined"&&h==="position"&&(g=d.position());var h=c.attr("adjust-scrolltop-pos");typeof h!="undefined"&&h==="fix-scrolltop"&&(g.top=d.offset().top-scrollY);var i=d.outerHeight(),j=g.left,k=g.top+i,l=f.attr("position-adjust");if(l==="add-scrolltop")try{var m=f.attr("scroll-class"),n=$("."+m).getNiceScroll();k+=n[0].scrollTop()}catch(o){debug&&console.log(o.message)}var p=d.outerWidth(),q=j+p-f.outerWidth();return f.css({left:q+"px",top:k+"px"}),f.is(":hidden")&&f.show(),a.stopPropagation(),!1}),$(".expand-box").live("click",function(a){a.stopPropagation()}),$("body").live("click",function(a){$(".expand-box").hide(),typeof c!="undefined"&&c!==null&&c.removeClass("selected"),c=null}),$(window).scroll(function(a){$(".expand-box").hide(),typeof c!="undefined"&&c!==null&&c.removeClass("selected"),c=null}),$(".tab-large-linear").live("click",function(a){var b=$(this).children();$(this).parent().find(".tab-name").each(function(){$(this).removeClass("selected");var a=$("."+$(this).attr("data-container"));a.hide()}),b.addClass("selected");var c=$("."+$(b[0]).attr("data-container")),d=$(b[0]).attr("ajax"),e=$(b[0]).attr("cache");typeof e!="undefined"&&e!==!1&&(e=!0);var f;e?f=!1:f=!0,$.trim(c.html())||(c.html(LOADER_HTML),f=!0);if(f)var g=$.ajax({url:d,type:"POST",dataType:"json",success:function(a){a["status"]==AJAX_OK?a&&(c.html(a["container-html"]),latexifyAjaxDiv(c)):c.html(""),domElementLive()}});c.show();return}),$(".tab").live("click",function(a){var b,c=$(this).children();$(this).parent().find(".tab-name").each(function(){$(this).removeClass("selected");var a=$("."+$(this).attr("data-container"));a.hide()}),c.addClass("selected");var d=$("."+$(c[0]).attr("data-container")),e=$(c[0]).attr("ajax"),f=$(c[0]).attr("cache");f==="true"||f==="True"||f===!0?f=!0:f=!1,f?b=!1:!f&&typeof e!="undefined"&&e!==""&&(b=!0,d.html("")),$.trim(d.html())||(d.html(LOADER_HTML),b=!0);if(typeof e!="undefined"&&b)var g=$.ajax({url:e,type:"POST",dataType:"json",success:function(a){a["status"]==AJAX_OK?a&&(d.html(a["container-html"]),latexifyAjaxDiv(d)):d.html(""),domElementLive()}});d.show();return}),$(".load-feeds").live("click",function(){var a=$(this),b=a.attr("feeds_url"),c=a.attr("success");$.init_scroll({url:b,replaceData:!0,success:c}),$(".load-feeds").each(function(){$(this).removeClass("selected")}),a.addClass("selected")}),$(".copy-text").live("keyup",function(){var a=$(this).attr("target"),b=$(this).val(),c=$("#"+a);c.text(b)}),$(".ajax-get").live("click",function(a){var b=$(this);if(b.hasClass("disabled"))return!1;var c=b.attr("target"),d;c?d=$("#"+c):d=null;var e=b.attr("noreplace"),f=b.attr("execute"),g=b.attr("ajax"),h=b.attr("success"),i=b.attr("csrfenabled"),j=b.text(),k=b.attr("clicked");k&&b.text(k),b.addClass("clicked");var l=b.attr("confirm");if(l&&!confirm("Are you sure you want to perform this action?"))return!1;var m=b.attr("executeonce"),n=b.attr("executed");if(m=="true"){if(n=="true")return!1;b.attr("executed","true")}return $.ajax({url:g,type:"GET",dataType:"json",beforeSend:function(a){i&&a.setRequestHeader("X-CSRFToken",getCookie("csrftoken"))},success:function(a){if(a["status"]==AJAX_OK){d&&(data=a.data,h=="REPLACE"?d.html(data):d.append(data)),executeFromStr(f,a.execute_args),a.alert_message&&addAlert(a.alert_message),a.alert&&alert(a.alert);if(e=="false"||e==undefined)a.url?window.location.href=a.url:(k&&b.text(j),b.removeClass("clicked"))}else k&&b.text(j),b.removeClass("clicked"),a.alert_message&&addAlert(a.alert_message)},error:function(a){k&&b.val(j),b.removeClass("clicked")},statusCode:{404:function(){alert("There was some error in accessing the resource, re-loading the page."),window.location.reload()},403:function(){window.location.reload()}}}),!1}),$(".ajax-form input[type=submit]").live("click",function(){$(this).hasClass("track-problem-hint")||($("input[type=submit]",$(this).parents("ajax-form")).removeAttr("pressed"),$(this).attr("pressed","true"))}),$(".ajax-form").live("submit",function(a){var b=$(this);if(b.hasClass("disabled"))return!1;var c=b.attr("target"),d;c?d=$("#"+c):d=null;var e=b.find("input[type=submit][pressed=true]"),f=b.attr("ajax"),g=new FormData($(this)[0]),h=b.attr("success"),i=b.attr("error"),j=b.find(".errorlist"),k=b.attr("execute"),l=b.attr("execute-error"),m=b.attr("loader"),n=b.attr("data-mcq-bulk-upload"),o=b.data("ptype"),p=null;m&&(p=$("."+m)),m&&p.removeClass("not-visible");var q=b.attr("execute-complete"),r=b.attr("execute-complete-error");g.append("submit","True");var s=e.attr("name"),t=e.attr("value");s&&t&&g.append(s,t),j.hide(),b.find(":input").each(function(){$(this).removeClass("error")});var u=b.find('input[type="submit"]:not(.cancel), button');if(u.hasClass("clicked")){a.preventDefault();return}var v=e.val();if(e.val()=="Save"||e.val()=="save")e.val(SAVING_TEXT);else{var w=e.attr("clicked");e.val(w)}e.addClass("clicked");var x=$.ajax;if(b.attr("show-progress")){var y=b.attr("progress-block-id"),z=$("#"+y),A=new HEProgressBar(b,z);x=A.ajax}return x({url:f,type:"POST",data:g,contentType:!1,processData:!1,success:function(a){if(a["status"]==AJAX_OK){d&&(g=a.data,h=="REPLACE"?d.html(g):d.append(g)),window.getQuestions&&window.getQuestions(),m&&p.addClass("not-visible"),a.alert_message&&addAlert(a.alert_message);if(a.url)window.location.href=a.url;else{e.val(v),e.removeClass("clicked");var c=b.find(".save-message");c.show(),c.hasClass("permanent")||c.fadeOut(3e3)}a.form&&(b.html(a.form),latexifyAjaxDiv(b.html));if(k){var f=a.execute_args;execute_list=k.split(" ");for(var o=0;o<execute_list.length;o++){var q=execute_list[o];f?window[q](f):q.indexOf("(")>=0?(q=q.split(/\(|\)/),window[q[0]](q[1])):window[q]()}}n&&window.handleBulkUpload(a)}else{m&&p.addClass("not-visible"),e.val(v),e.removeClass("clicked"),a.form&&(i=="REPLACE"?d.html(a.form):(b.html(a.form),latexifyAjaxDiv(b.html)));var r=a.errors;if(r!==undefined)for(var o=0;o<r.length;o++){var s=r[o],t=b.find("#id_"+s.field);t.addClass("error");var u="<li>"+capitalize(s.field)+":  "+s.error+"</li>";j.append(u)}executeFromStr(l),a.alert_message&&addAlert(a.alert_message),window.getQuestions&&window.getQuestions(null,!0),n&&window.handleBulkUpload(a)}if(a.messages){messages=a.messages;for(var o=0;o<messages.length;o++)addAlert(messages[o])}},error:function(a){m&&p.addClass("not-visible"),e.val(v),e.removeClass("clicked"),window.getQuestions&&window.getQuestions(null,!0)},complete:function(a){var a=JSON.parse(a.responseText);a["status"]==AJAX_OK?executeFromStr(q):executeFromStr(r)},statusCode:{404:function(){alert("There was some error in accessing the resource, re-loading the page."),window.location.reload()},403:function(){window.location.reload()},429:function(a){var a=JSON.parse(a.responseText);window.addAlert(a.message)}}}),!1}),$(".show-inline-form").live("click",function(a){var b=$(this),c=b.attr("target"),d=b.attr("ajax"),e=b.attr("copyclass");typeof e!="undefined"&&e!==!1?e=!0:e=!1;var f=b.attr("execute"),g=c+"-data",h=c+"-form",i=$("#"+g),j=$("#"+h);if(j.length>0)j.show(),i.hide(),executeFromStr(f);else{var k=$("<div>");k.attr("id",h),k.insertAfter(i),e&&k.attr("class",i.attr("class")),i.hide(),k.html(LOADER_HTML),$.ajax({type:"POST",url:d,dataType:"json",success:function(a){a["status"]==AJAX_OK?(k.html(a.form),executeFromStr(f)):(i.show(),k.hide(),alert("There was some error in accessing the resource, please re-load the page."))},error:function(a){i.show(),k.remove(),alert("There was some error in accessing the resource, please re-load the page.")},statusCode:{404:function(){alert("There was some error in accessing the resource, re-loading the page."),window.location.reload()},403:function(){window.location.reload()}}})}return!1}),$(".cancel-edit-basic-details").live("click",function(a){var b=$("#id_full_name").attr("value");return a.stopPropagation(),!1}),$(".cancel-inline-form").live("click",function(a){var b=$(this),c=b.closest(".inline-form"),d=c.attr("target"),e=d+"-data",f=d+"-form",g=b.attr("remove"),h=$("#"+e),i=$("#"+f);g=="true"?(i.remove(),h.show()):(i.hide(),h.show());if(!b.hasClass("no-scroll")){var j=h.offset().top;j>50&&(j-=50),$("html,body").animate({scrollTop:j},"fast")}return!1}),$(".inline-form .delete-item").live("click",function(a){var b=$(this),c=b.attr("ajax"),d=b.closest(".inline-form"),e=d.attr("target"),f=e+"-data",g=e+"-form",h=$("#"+f),i=$("#"+g),j=confirm("Are you sure you want to delete this?");return j==1&&(b.after(HORIZONTAL_LOADER_HTML),$.ajax({type:"GET",url:c,dataType:"json",success:function(a){a["status"]==AJAX_OK?(i.remove(),h.remove()):b.next().remove()},error:function(a){b.next().remove(),alert("There was some error in accessing the resource, please re-load the page.")},statusCode:{404:function(){b.next().remove(),alert("There was some error in accessing the resource, re-loading the page."),window.location.reload()},403:function(){b.next().remove(),window.location.reload()}}})),!1}),$(".inline-form").live("submit",function(a){var b=$(this),c=b.attr("ajax"),d=b.serialize(),e=b.attr("target"),f=b.find('input[type="submit"]:not(.cancel), button'),g=f.val();if(f.hasClass("clicked")){a.preventDefault();return}(f.val()=="Save"||f.val()=="save")&&f.val("Saving..");if(f.is("[clicked]")){var h=f.attr("clicked");f.val(h)}f.addClass("clicked");var i=e+"-data",j=e+"-form",k=$("#"+i),l=$("#"+j);return $.ajax({type:"POST",url:c,data:d,dataType:"json",success:function(a){f.removeClass("clicked"),f.val(g),a["status"]==AJAX_OK?(l.hide(),k.show(),k.replaceWith(a.data)):b.replaceWith(a.form)},error:function(a){f.removeClass("clicked"),f.val(g),alert("There was some error in accessing the resource, please re-load the page.")},statusCode:{404:function(){alert("There was some error in accessing the resource, re-loading the page."),window.location.reload()},403:function(){window.location.reload()}}}),!1}),$(".render-create-form").live("click",function(a){var b=$(this),c=b.parent().next(),d=b.attr("ajax");return b.hide(),c.show(),c.html(LOADER_HTML),$.ajax({type:"POST",url:d,dataType:"json",success:function(a){a["status"]==AJAX_OK?c.html(a.form):(c.html(""),c.hide(),b.show(),alert("There was an error, please reload the page and try again."))},error:function(a){c.html(""),c.hide(),b.show(),alert("There was an error, please reload the page and try again.")},statusCode:{404:function(){alert("There was some error in accessing the resource, re-loading the page."),window.location.reload()},403:function(){window.location.reload()}}}),!1}),$(".cancel-create-form").live("click",function(a){var b=$(this),c=b.closest("form"),d=c.prev().find(".render-create-form");c.html(""),c.hide(),d.show();var e=d.offset().top;e>100&&(e-=50),$("html,body").animate({scrollTop:e},"fast"),a.preventDefault()}),$(".inline-create-form").live("submit",function(a){var b=$(this),c=b.attr("ajax"),d=b.attr("target"),e=$("#"+d),f=b.attr("success"),g=b.serialize(),h=!1,i=b.attr("execute");f=="APPEND"&&(h=!0);var j=b.find('input[type="submit"]:not(.cancel), button');if(j.hasClass("clicked")){a.preventDefault();return}var k=j.val();(j.val()=="Save"||j.val()=="save")&&j.val("Saving..");if(j.is("[clicked]")){var l=j.attr("clicked");j.val(l)}return $.ajax({url:c,type:"POST",data:g,dataType:"json",success:function(a){if(a["status"]==AJAX_OK){executeFromStr(i);if(e){g=a.data,h?e.append(g):e.html(g);var c=b.prev().find(".render-create-form");b.html(""),b.hide(),c.show()}if(a.url)window.location.href=a.url;else{j.val(k),j.removeClass("clicked");var d=b.find(".save-message");d.length&&(d.show(),d.hasClass("permanent")||d.fadeOut(3e3))}a.form&&b.html(a.form)}else j.val(k),j.removeClass("clicked"),a.form&&b.html(a.form)},error:function(a){j.val(k),j.removeClass("clicked")},statusCode:{404:function(){alert("There was some error in accessing the resource, re-loading the page."),window.location.reload()},403:function(){window.location.reload()}}}),!1}),$(".inline-ajax-form").live("submit",function(a){var b=$(this);if(b.hasClass("disabled"))return!1;var c=b.attr("target"),d;c?d=$("#"+c):d=null;var e=b.attr("ajax"),f=b.serialize(),g=b.attr("success"),h=b.find(".errorlist"),i=b.attr("execute");h.hide(),b.find(":input").each(function(){$(this).removeClass("error")});var j=b.find('input[type="submit"]:not(.cancel), button');if(j.hasClass("clicked")){a.preventDefault();return}var k=j.val();(j.val()=="Save"||j.val()=="save")&&j.val("Saving..");if(j.is("[clicked]")){var l=j.attr("clicked");j.val(l)}return j.addClass("clicked"),$.ajax({url:e,type:"POST",data:f,dataType:"json",success:function(a){if(a["status"]==AJAX_OK){executeFromStr(i),d&&(f=a.data,g=="REPLACE"?d.html(f):d.append(f));if(a.url)window.location.href=a.url;else{j.val(k),j.removeClass("clicked");var c=b.find(".save-message");c.show(),c.hasClass("permanent")||c.fadeOut(3e3)}a.form&&b.html(a.form)}else{j.val(k),j.removeClass("clicked"),a.form&&b.html(a.form);var e=a.errors;for(var l=0;l<e.length;l++){var m=e[l],n=$("#id_"+m.field);n.addClass("error");var o="<li>"+capitalize(m.field)+":  "+m.error+"</li>";h.append(o)}}},error:function(a){j.val(k),j.removeClass("clicked")},statusCode:{404:function(){alert("There was some error in accessing the resource, re-loading the page."),window.location.reload()},403:function(){window.location.reload()}}}),!1}),$(".delete-item-ajax").live("click",function(a){var b=$(this),c=b.attr("confirmation-required"),d=!1;if(c){var e=b.attr("confirmation-message");e||(e="Are you sure you want to delete this?"),d=confirm(e)}else d=!0;if(d){var f=b.attr("ajax"),g=b.attr("target"),h=$("#"+g),i=b.attr("execute");h.hide();if(!f)return!1;$.ajax({url:f,type:"GET",success:function(a){a["status"]==AJAX_ERROR?(h.show(),a.alert&&alert(a.alert)):(h.remove(),executeFromStr(i))},error:function(a){h.show()}})}return!1}),$(".show-message").live("click",function(){var a=$(this),b=a.attr("target"),c=$("#"+b);c.show(),c.fadeOut(3e3)}),$(".show-modal").live("click",function(){var a=$(this).attr("target"),b=$("#"+a);return b.show(),b.modal({onClose:function(a){a.data.fadeOut(300),a.container.fadeOut(300,function(){a.overlay.hide(),$.modal.close(),$(".modal-window").hide()})},onOpen:function(a){a.overlay.fadeIn(300),a.data.show(),a.container.fadeIn(300)},onShow:function(a){var c=b.attr("execute-on-show");if(c){execute_commands=c.split(" ");for(var d=0;d<execute_commands.length;d++)window[execute_commands[d]]()}}}),!1}),$(".show-signup-in-modal").live("click",function(){$(".signup-form-div").show(),$(".login-form").hide()}),$(".login-modal-redirect").live("click",function(){var a=$(this).attr("modal-redirect"),b=$(this).attr("target"),c=$("#"+b);if(c){var d=c.find("input[name=next]");d.val(a);var e=encodeURIComponent(document.location.pathname),f=c.find("#modal-signup-form"),g=c.find(".btn-facebook"),h=c.find(".btn-google"),i=encodeURIComponent(f.attr("ajax")),j=i.replace(e,encodeURIComponent(a));j=decodeURIComponent(j),f.attr("ajax",j);if(g)for(var k=0;k<g.length;k++){var l=encodeURIComponent(g[k].href),m=l.replace(e,encodeURIComponent(a));m=decodeURIComponent(m),g[k].href=m}if(h)for(var k=0;k<h.length;k++){var n=encodeURIComponent(h[k].href),o=n.replace(e,encodeURIComponent(a));o=decodeURIComponent(o),h[k].href=o}}}),$(".show-popup").live("click",function(){var a=$(this).attr("url"),b=$(this).attr("height"),c=$(this).attr("width"),d=$(this).attr("left"),e=$(this).attr("top"),f=$(this).attr("minimal");b||(b=500),c||(c=500),d||(d=screen.width/2-c/2),e||(e=screen.height/2-b/2),a&&(f?popupWindow=window.open(a,"popUpWindow","height="+b+",width="+c+",left="+d+",top="+
e+",resizable=no,scrollbars=yes,toolbar=no,menubar=no,location=no,directories=no,status=no"):popupWindow=window.open(a,"popUpWindow","height="+b+",width="+c+",left="+d+",top="+e+",resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=yes,directories=yes,status=yes"))}),$(".ajax-modal").live("click",function(){var a=$(this).attr("ajax"),b=$(this).attr("target"),c=$("#"+b),d=$(this).attr("method");return d||(d="POST"),c.show(),c.hasClass("large-modal")?c.modal({onClose:function(a){$.modal.close(),$(".modal-window").hide()},minHeight:600,minWidth:830}):c.hasClass("very-large-modal")?c.modal({onClose:function(a){$.modal.close(),$(".modal-window").hide()},minHeight:600,minWidth:960}):c.hasClass("fix-modal-top")?c.modal({onClose:function(a){$.modal.close(),$(".modal-window").hide()},minHeight:450}):c.modal({onClose:function(a){$.modal.close(),$(".modal-window").hide()}}),c.find(".modal-content").prepend(LOADER_HTML),$.ajax({type:d,url:a,dataType:"json",success:function(a){if(a["status"]==AJAX_OK){c.html(a.data);var b=a.url;b&&window.open(b,"_blank"),a.alert_message&&addAlert(a.alert_message)}else $.modal.close(),$(".modal-window").hide();domElementLive()},error:function(a){$.modal.close(),$(".modal-window").hide()},statusCode:{404:function(){alert("There was some error in accessing the resource, re-loading the page."),window.location.reload()},403:function(){window.location.reload()}}}),!1}),$(".close-modal-window").live("click",function(){$.modal.close(),$(".modal-window").hide()}),$(".close-overlay").live("click",function(){$(".page-overlay").addClass("hidden")}),$("#simplemodal-container .modal-form").live("submit",function(){var a=$("#simplemodal-container .submit-modal-form");return a.click(),!1}),$(".submit-modal-form").live("click",function(a){var b=$(this);if(!$.contains($("#simplemodal-container"),b))return;if(!b.is(":visible"))return;if(b.hasClass("clicked")){a.preventDefault();return}var c=$("#simplemodal-container .modal-form"),d=!1;c.hasClass("validate-field")&&$("#simplemodal-container .modal-form :input").each(function(){});var e=c.serializeArray(),f=b.attr("ajax"),g=b.attr("clicked_text"),h=b.text(),i=b.attr("target"),j=b.attr("execute"),k=b.attr("execute-error"),l=null;i&&(l=$("#"+i)),b.text(g),b.addClass("clicked");var m=b.parent().find(".error-placeholder");m.hide();var n=c.find("input:file");if(c.hasClass("image-file")&&n.val()){var o=n[0].files[0],p=n.val();p=p.toLowerCase();var q=p.split("."),r=p.indexOf("\\")>=0?p.lastIndexOf("\\"):p.lastIndexOf("/"),s=p.substring(r);if(s.indexOf("\\")===0||s.indexOf("/")===0)s=s.substring(1);var t=!1;for(var u=0;u<ALLOWED_IMAGE_FORMATS.length;u++)if(ALLOWED_IMAGE_FORMATS[u]==q[q.length-1]){t=!0;break}if(!t)return alert("The file extension is not allowed"),b.text(h),b.removeClass("clicked"),!1;reader=new FileReader,reader.onload=function(a){var d=a.target.result,g=d.split(",")[1],i=d.split(",")[0].split(":")[1].split("/")[1].split(";")[0];e.push({name:"type",value:"base64"}),e.push({name:"key",value:"88wvr0jnjv6xapcyfdmmf5x8gl47zawv"}),e.push({name:"image_name",value:s}),e.push({name:"image_data",value:g}),$.ajax({url:f,data:e,type:"POST",dataType:"json",success:function(a){b.text(h),b.removeClass("clicked"),a["status"]==AJAX_OK?(l&&l.html(a.data),executeFromStr(j),a.url&&(window.location.href=a.url),a.form&&c.html(a.form),a.alert_message&&addAlert(a.alert_message),$.modal.close(),$(".modal-window").hide()):(m.show(),a.form&&c.html(a.form))},error:function(a){b.text(h),b.removeClass("clicked"),m.show()}})},reader.onerror=function(a){return alert(a.getMessage()),!1},reader.readAsDataURL(o)}else $.ajax({url:f,data:e,type:"POST",dataType:"json",success:function(a){b.text(h),b.removeClass("clicked"),a["status"]==AJAX_OK?(l&&l.html(a.data),executeFromStr(j),a.url&&(window.location.href=a.url),a.form&&c.html(a.form),a.alert_message&&addAlert(a.alert_message),$.modal.close(),$(".modal-window").hide()):(m.show(),a.form&&c.html(a.form),executeFromStr(k))},error:function(a){b.text(h),b.removeClass("clicked"),m.show()}});return!1}),$(".nice-file-input").live("change",function(){var a=$(this),b=a.parent().parent().parent().find(".filepath"),c=a.parent().parent().find(".label-text"),d=a.val(),e=d.indexOf("\\")>=0?d.lastIndexOf("\\"):d.lastIndexOf("/");d=d.substring(e);if(d.indexOf("\\")===0||d.indexOf("/")===0)d=d.substring(1);d&&(b.html(d),b.val(d)),c.text("Change")}),$(".js-file-upload input:file").live("change",function(a){file=this.files[0];var b=$(this).parent().attr("ajax");reader=new FileReader,reader.onload=function(a){var c=a.target.result,d={input:c};$.ajax({type:"POST",url:b,data:d,dataType:"json"})},reader.onerror=function(a){alert(a.getMessage())},reader.readAsText(file)}),$(".js-avatar-upload").live("change",function(a){var b=$(this);file=this.files[0];var c=b.attr("ajax"),d=b.attr("size"),e=b.attr("target"),f=$("#"+e),g=b.val(),h=b.attr("imageTargets");g=g.toLowerCase();var i=g.split("."),j=g.indexOf("\\")>=0?g.lastIndexOf("\\"):g.lastIndexOf("/"),k=g.substring(j);if(k.indexOf("\\")===0||k.indexOf("/")===0)k=k.substring(1);var l=!1;for(var m=0;m<ALLOWED_IMAGE_FORMATS.length;m++)if(ALLOWED_IMAGE_FORMATS[m]==i[i.length-1]){l=!0;break}if(!l)return alert("The give file extension is not allowed"),!1;reader=new FileReader,reader.onload=function(a){var b=a.target.result,e=b.split(",")[1],g=b.split(",")[0].split(":")[1].split("/")[1].split(";")[0],i=f.find("span.horizontal-loader");i.removeClass("not-visible");var j=f.find("img");j.addClass("faded"),$.ajax({url:c,type:"POST",data:{type:"base64",key:"88wvr0jnjv6xapcyfdmmf5x8gl47zawv",name:k,image:e,size:d},dataType:"json",success:function(a){if(a["status"]==AJAX_OK){j.replaceWith(a.img);if(h){image_targets=h.split(" ");for(var b=0;b<image_targets.length;b++){var c=$("#"+image_targets[b]);c.find("img").replaceWith(a.img)}}}i.addClass("not-visible")},error:function(a){i.addClass("not-visible")}})},reader.onerror=function(a){alert(a.getMessage())},reader.readAsDataURL(file)}),$(".dropdown-1 .dd-label").live("click",function(a){a.stopPropagation();var b=$(this),c=b.next();if(c.is(":hidden")){b.addClass("clicked");var d=b.position(),e=b.height(),f=d.top+e-1;b.hasClass("set-pos")&&(f+=parseInt(b.attr("top-pos")));var g=d.left;c.css({position:"absolute",top:f+"px",left:g+"px"}),c.show()}else b.removeClass("clicked"),c.hide()}),$(".dropdown-1 input").live("change",function(a){var b=$(this);this.checked?b.parent().parent().addClass("clicked"):b.parent().parent().removeClass("clicked")}),$("body").click(function(a){var b=$(a.target);if(b.hasClass("dd-label"))return!0;if(b.is(".dropdown-1 .dd-list *"))return!0;$(".dropdown-1 .dd-list").hide()}),$(".show-hide").live("click",function(a){var b=$(this),c=b.attr("hide"),d=$("#"+c),e=b.attr("show"),f=$("#"+e);d.hide(),f.show(),a.preventDefault()}),$(".slide-toggle").live("click",function(a){var b=$(this),c=b.attr("target"),d=$("#"+c);d.is(":visible")?(d.slideUp(),b.removeClass("open")):(d.slideDown(),b.addClass("open"))}),$(".show-hide-many").live("click",function(a){var b=$(this),c=b.attr("hide"),d=$("."+c),e=b.attr("show"),f=$("."+e);d.hide(),f.show(),a.preventDefault()}),$(".show-hide-toggle").live("click",function(a){var b=$(this),c=b.attr("target");c&&$("#"+c).toggle(),a.preventDefault()}),$(".show-hover").live("mouseover",function(a){var b=$(this),c=b.attr("show-target");c&&$("#"+c).removeClass("forced-hidden")}),$(".show-hover").live("mouseleave",function(a){var b=$(this),c=b.attr("show-target");c&&$("#"+c).addClass("forced-hidden")}),$(".ajax-select").live("change",function(){var a=$(this),b=a.attr("ajax"),c=a.val(),d=a.attr("param"),e=d+"="+c;$.ajax({url:b,type:"GET",data:e,dataType:"json"})}),$(".ajax-select-wrapper select").live("change",function(){var a=$(this),b=a.parent(),c=b.attr("ajax"),d=b.attr("param"),e=d+"="+value;$.ajax({url:c,type:"GET",data:e,dataType:"json"})}),$(".clicked-button").live("submit",function(){if($(this).hasClass("clicked"))return!1;var a=$(this).find("input[type=submit]"),b=a.attr("clicked_text");return a.val(b),a.addClass("clicked"),!0}),$(".row-overlay").live("mouseover",function(){var a=$("#full-body-div").scrollTop(),b=$("#"+$(this).attr("overlay")),c=b.height(),d=$(this).css("width","-=20"),e=$(this).css("height"),f=$(this).position();bottom_top=f.top,bottom_left=f.left,b.css({position:"absolute",top:bottom_top+a,right:"35px",width:d,height:e}),b.show()}),$(".row-overlay").live("mouseleave",function(){var a=$("#"+$(this).attr("overlay"));a.hide()}),$(".ajax-execute").live("click",function(){var a=$(this).parent(),b=$(this).attr("ajax"),c=$(this).attr("target"),d=$("#"+c),e=$(".ajax-success").html(),f=$(".ajax-error").html();$(this).parent().html(LOADER_HTML_NO_MARGIN),$.ajax({type:"POST",url:b,dataType:"json",success:function(b){b["status"]==AJAX_OK?a.parent().html(e):a.parent().html(f)},error:function(b){a.parent().html(f)}})}),$(".polls-unset").live("click",function(){var a=$(this).attr("link"),b=$(this);b.removeClass("polls-unset"),b.addClass("polls-set"),b.removeClass("btn-white"),b.addClass("btn-blue");var c=b.text();return b.text("Following"),$.ajax({url:a,type:"POST",complete:function(a){a.responseText=="error"&&(b.addClass("polls-unset"),b.removeClass("polls-set"),b.addClass("btn-white"),b.removeClass("btn-blue"),b.text(c))}}),!1}),$(".polls-set").live("click",function(){var a=$(this).attr("link"),b=$(this);b.removeClass("polls-set"),$(this).addClass("polls-unset"),b.addClass("btn-white"),b.removeClass("btn-blue");var c=b.text();return b.text("Follow"),$.ajax({url:a,type:"POST",complete:function(a){a.responseText=="error"&&(b.addClass("polls-set"),b.removeClass("polls-unset"),b.removeClass("btn-white"),b.addClass("btn-blue"))}}),!1}),$(".polls-follow").live({mouseenter:function(){var a=$(this),b=a.text();a.text("Unfollow")},mouseleave:function(){var a=$(this),b=a.text();a.hasClass("polls-set")&&b==="Unfollow"&&a.text("Following")}}),$(".show-next").live("click",function(){return $(this).next().show(),$(this).hide(),!1}),$(".fast-scroll").live("click",function(a){var b=$(this),c=$("#"+b.attr("scroll-target")),d=b.attr("scroll-offset"),e=b.attr("no-background");d?$("html,body").animate({scrollTop:c.offset().top-d},"fast"):$("html,body").animate({scrollTop:c.offset().top},"fast"),e||(c.css({"background-color":"#fffcdf"}),c.animate({backgroundColor:"#fff"},3e3)),a.preventDefault()});var d="...",e=100,f="Show More",g="Show Less";$(".more").each(function(){e=parseInt($(this).data("max-char"))||e,f=$(this).data("more-text")||f,g=$(this).data("less-text")||g,content=$(this).html();if(content.length>e){var a=content.substr(0,e),b=content.substr(e,content.length-e),c='<a href="#">'+f+"</a>";$(this).html(a),$(c).on("click",function(c){c.preventDefault(),$(this).parent().html(a+b)}).appendTo($(this))}}),$(".clicky-ajax").live("click",function(){var a=$(this),b=a.attr("ajax"),c=$(this).attr("clicky-redirect"),d=$.ajax({url:b,type:"GET",dataType:"json",async:!1,this_this:a,redirect:c,success:function(a){a["status"]==AJAX_OK&&typeof c!="undefined"&&c!==""&&window.open(c,"_blank")},error:function(a){}})}),$(".clicky-item").live("click",function(a){var b=$(a.target);if(typeof b!="undefined"&&b.is(".clicky-item a"))return!0;var c=$(this).attr("clicky-redirect");typeof c!="undefined"&&c!==""&&window.open(c,"_blank")}),$(".notif-mark-all-read").live("click",function(a){return $(".notifications-container>div.unseen").removeClass("unseen"),$("#notifications-feed>div.unseen").removeClass("unseen"),$(".notif-count").remove(),a.stopPropagation(),!1}),$(".select-toogle").live("change",function(){var a=$(this).val(),b=$("'#"+a+"'");$(".option-content").hide(),b.show()}),$("#live-events-placeholder").live("click",function(){var a=null;$("#live-events-loading").width()>300?(a="0px",toggleOpacity=.9):$("#live-events-loading").width()<1&&(a="330px",toggleOpacity=0);if(a=="330px"){var b=parseInt($("#live-events-widget-count").text()),c="304px";if(b<=4){var d=b*75+5;c=d.toString()+"px"}$("#live-events-loading").height(104),$("#live-events-loading").animate({width:a},400).animate({height:c},{duration:350,complete:function(){$(".live-events-widget-container").show()}})}else{$(".live-events-widget-container").hide();var c="105px";$("#live-events-loading").removeClass("live-events-loaded"),$("#live-events-loading").animate({height:c},350).animate({width:a},{duration:400,complete:function(){}})}}),getParameterByName("scroll-id")&&getParameterByName("scroll-trigger")&&($("#"+getParameterByName("scroll-id")).trigger(getParameterByName("scroll-trigger")),$("body").append("<div class='page-loader'><i class='fa fa-pulse fa-spinner'></i></div>"),$("html body").animate({scrollTop:$("#"+getParameterByName("scroll-id")).offset().top},1e3)),$(document).on("ajaxStop",function(){window.location.hash&&$(window.location.hash).length>0&&(setTimeout(function(){$("html body").animate({scrollTop:$(window.location.hash).offset().top-40},2e3,function(){var a=$(window.location.hash).css("background-color");$(window.location.hash).animate({backgroundColor:"#fffcdf"},400).animate({backgroundColor:a},2e3,function(){a==="rgba(0, 0, 0, 0)"&&$(window.location.hash).css("background-color","rgba(0, 0, 0, 0)")})})},200),$(document).off("ajaxStop")),$(".page-loader").remove()}),$("#feedback-popup-container").delay(5e3).slideDown(1e3),$("#feedback-popup-container").on("click",".cross-feedback-popup",function(){$("#feedback_cross_flag").val("true"),$(".save-feedback-popup").attr("pressed","true"),$(".feedback-prompt-form").trigger("submit")}),$("#feedback-popup-container").on("click","#penta-feedback-popup .penta-star-rating",function(){var a=$(this).attr("value");if(a!=="undefined"&&$("body").find("#feedback_penta_score")!==null){var b=parseInt(a);for(var c=1;c<=b;c++){var d="#star-id-"+c.toString(),e=d+"-1",f=d+"-2";$(e).addClass("yellow-star"),$(f).addClass("yellow-star")}for(var c=b+1;c<=5;c++){var d="#star-id-"+c.toString(),e=d+"-1",f=d+"-2";$(e).removeClass("yellow-star"),$(f).removeClass("yellow-star")}$("#feedback_penta_score").val(a),a<4?(toggle_display_text_feedback(!0),$("#penta-feedback-popup").fadeOut()):($(".save-feedback-popup").attr("pressed","true"),$(".feedback-prompt-form").trigger("submit"))}}),$("#feedback-popup-container").on("click",".feedback-helpful",function(a){$("#thumbsdown").addClass("opacity-5"),$("#thumbsdown-circle").addClass("opacity-5"),$("#thumbsup").hasClass("opacity-5")&&$("#thumbsup").removeClass("opacity-5"),$("#thumbsup-circle").hasClass("opacity-5")&&$("#thumbsup-circle").removeClass("opacity-5"),$("#thumbsdown").hasClass("red-text")&&($("#thumbsdown").removeClass("red-text"),$("#thumbsdown").addClass("light")),$("#thumbsdown").hasClass("white-text")&&($("#thumbsdown").removeClass("white-text"),$("#thumbsdown").addClass("light")),$("#thumbsdown").hasClass("fa-thumbs-down")&&($("#thumbsdown").removeClass("fa-thumbs-down"),$("#thumbsdown").addClass("fa-thumbs-o-down")),$("#thumbsdown-circle").hasClass("red-text")&&($("#thumbsdown-circle").removeClass("red-text"),$("#thumbsdown-circle").addClass("light")),$("#thumbsdown-circle").hasClass("white-text")&&($("#thumbsdown-circle").removeClass("white-text"),$("#thumbsdown-circle").addClass("light")),$("#thumbsdown-circle").hasClass("fa-circle")&&($("#thumbsdown-circle").removeClass("fa-circle"),$("#thumbsdown-circle").addClass("fa-circle-thin")),$("#thumbsdown-text").hasClass("dark")&&($("#thumbsdown-text").removeClass("dark"),$("#thumbsdown-text").addClass("light")),$("#thumbsup-text").hasClass("light")&&($("#thumbsup-text").removeClass("light"),$("#thumbsup-text").addClass("dark")),$("#thumbsup").hasClass("green-text")&&$("#thumbsup-circle").hasClass("fa-circle-thin")&&($("#thumbsup").removeClass("green-text"),$("#thumbsup").addClass("white-text"),$("#thumbsup").removeClass("fa-thumbs-o-up"),$("#thumbsup").addClass("fa-thumbs-up"),$("#thumbsup-circle").removeClass("fa-circle-thin"),$("#thumbsup-circle").addClass("fa-circle")),$("#thumbsup").hasClass("light")&&$("#thumbsup-circle").hasClass("fa-circle-thin")&&($("#thumbsup").removeClass("light"),$("#thumbsup").addClass("white-text"),$("#thumbsup").removeClass("fa-thumbs-o-up"),$("#thumbsup").addClass("fa-thumbs-up"),$("#thumbsup-circle").removeClass("light"),$("#thumbsup-circle").addClass("green-text"),$("#thumbsup-circle").removeClass("fa-circle-thin"),$("#thumbsup-circle").addClass("fa-circle")),$('input[name="acceptance-status-action"]').val("THUMBS_UP"),$(".save-feedback-popup").attr("pressed","true"),$(".feedback-prompt-form").trigger("submit")}),$("#feedback-popup-container").on("click",".feedback-not-helpful",function(a){$("#thumbsup").addClass("opacity-5"),$("#thumbsup-circle").addClass("opacity-5"),$("#thumbsdown").hasClass("opacity-5")&&$("#thumbsdown").removeClass("opacity-5"),$("#thumbsdown-circle").hasClass("opacity-5")&&$("#thumbsdown-circle").removeClass("opacity-5"),$("#thumbsup").hasClass("green-text")&&($("#thumbsup").removeClass("green-text"),$("#thumbsup").addClass("light")),$("#thumbsup").hasClass("white-text")&&($("#thumbsup").removeClass("white-text"),$("#thumbsup").addClass("light")),$("#thumbsup").hasClass("fa-thumbs-up")&&($("#thumbsup").removeClass("fa-thumbs-up"),$("#thumbsup").addClass("fa-thumbs-o-up")),$("#thumbsup-circle").hasClass("green-text")&&($("#thumbsup-circle").removeClass("green-text"),$("#thumbsup-circle").addClass("light")),$("#thumbsup-circle").hasClass("white-text")&&($("#thumbsup-circle").removeClass("white-text"),$("#thumbsup-circle").addClass("light")),$("#thumbsup-circle").hasClass("fa-circle")&&($("#thumbsup-circle").removeClass("fa-circle"),$("#thumbsup-circle").addClass("fa-circle-thin")),$("#thumbsup-text").hasClass("dark")&&($("#thumbsup-text").removeClass("dark"),$("#thumbsup-text").addClass("light")),$("#thumbsdown-text").hasClass("light")&&($("#thumbsdown-text").removeClass("light"),$("#thumbsdown-text").addClass("dark")),$("#thumbsdown").hasClass("red-text")&&$("#thumbsdown-circle").hasClass("fa-circle-thin")&&($("#thumbsdown").removeClass("red-text"),$("#thumbsdown").addClass("white-text"),$("#thumbsdown").removeClass("fa-thumbs-o-down"),$("#thumbsdown").addClass("fa-thumbs-down"),$("#thumbsdown-circle").removeClass("fa-circle-thin"),$("#thumbsdown-circle").addClass("fa-circle")),$("#thumbsdown").hasClass("light")&&$("#thumbsdown-circle").hasClass("fa-circle-thin")&&($("#thumbsdown").removeClass("light"),$("#thumbsdown").addClass("white-text"),$("#thumbsdown").removeClass("fa-thumbs-o-down"),$("#thumbsdown").addClass("fa-thumbs-down"),$("#thumbsdown-circle").removeClass("light"),$("#thumbsdown-circle").addClass("red-text"),$("#thumbsdown-circle").removeClass("fa-circle-thin"),$("#thumbsdown-circle").addClass("fa-circle")),$('input[name="acceptance-status-action"]').val("THUMBS_DOWN"),toggle_display_text_feedback(!0),$(this).parents(".acceptance-status").fadeOut()}),initLeakedQuestion(),initLoadExternalURL(),$("#create-blank-test-btn, #create-blank-test-from-test-page").on("click",createBlankTest),$(".recaptcha-v3").on("click",function(a){var b=$(this),c=b.attr("country-code");if(c===undefined||c===null||c==="CN")return!1;if(b.hasClass("disabled"))return!1;var d=b.attr("recaptcha-site-key")||RECAPTCHA_V3_SITE_KEY,e={action:b.attr("data-action")};Object.keys(e).forEach(function(a){var b=e[a];(b===null||b===undefined)&&delete e[a]}),grecaptcha.ready(function(){grecaptcha.execute(d,e).then(function(a){var c=b.attr("target-form");if(c){var d=$("#"+c+' input[name="g-recaptcha-response"]');d&&d.val("HACKV3"+a)}})})})});var auto_mention_id=null,last_empty_query="";$(".mentionable").live("keyup",function(a){var b=$(this).attr("ajax"),c=$(this).attr("result-div-id"),d="developer",e=$(this).val(),f=$(this).prop("selectionStart");e=e.substr(0,f);if(!b||!c||!e||!d)return!1;var g=$("#"+c);g.attr("timestamp",$.now());if(a.keyCode==27)return $(this).blur(),g.html(""),g.hide(),!0;if(a.keyCode===40){var h=$(".focused"),i=g.children();if(h.length<1)i.first().addClass("focused");else{var j=parseInt(h.attr("result-index")),k=j+1;i.removeClass("focused"),$("#search-result-"+k).addClass("focused")}return a.preventDefault(),!0}if(a.keyCode===38){var h=$(".focused"),i=g.children();if(h.length<1)i.last().addClass("focused");else{var j=parseInt(h.attr("result-index")),l=j-1;i.removeClass("focused");var i=$(".result-wrapper");$("#search-result-"+l).addClass("focused")}return a.preventDefault(),!0}if(a.keyCode===13){h=$(".focused");if(h.length>0){var m=h.attr("username"),n=h.attr("user-full-name");if(m){var e=$(this).val(),o=e.length,p=e.lastIndexOf("@"),f=$(this).prop("selectionStart");if(p<f){var q=e.substr(0,p)+"["+d+":"+m+"]"+e.substr(f,o-1);$(this).val(q)}$(".result-wrapper").removeClass("focused"),g.html(""),g.hide()}a.preventDefault()}return!0}var r=parseName(e);if(!r||r.length<=2||last_empty_query!=""&&r.substring(0,last_empty_query.length)==last_empty_query)return g.hide(),!1;g.html('<div class="dots-loader"></div>'),g.show(),clearTimeout(auto_mention_id);var s={url:b,type:"GET",data:{q:r},id:$.now(),q:r},t=$(this).attr("for");t!=undefined&&t=="sprint_chat"&&(s.userpk="{{user.id}}",s.challengepk="{{event.id}}"),auto_mention_id=setTimeout(function(){$.ajax(s).done(function(a,b){if(b==="success")var c=this.id;else var c=$.now();var d=g.attr("timestamp");if(d===undefined||d<c){var e=$.trim(a.html),f=a.result_count;f==0?last_empty_query=this.q:last_empty_query="",g.html(e),e.length>0&&g.show(),g.attr("timestamp",c)}}).fail(function(){console.log("Ajax failed")})},500)}),$(".mentionable").live("keydown",function(a){if(a.keyCode===38||a.keyCode===40){a.preventDefault();return}}),$(".focused").live("click",function(){var a=$.Event("keyup");a.keyCode=13;var b=$(this).parent().attr("target-mentionable-parent");b?$("#"+b).find(".mentionable").trigger(a):$(".mentionable").trigger(a)}),$(document).mouseup(function(a){var b=$(".mention-suggestion");if(b.length<0)return;!b.is(a.target)&&b.has(a.target).length===0&&(b.html(""),b.hide())}),$("#common-notification").on("click",".notification-container",function(a){var b=$(this).find(".notification-link")[0];b&&($(this).hide(),b.click())}),$("#common-notification").on("click",".notification-close",function(a){a.stopPropagation(),$(this).parent().hide()}),Function.prototype.add_instance_methods=function(a){var b=this.prototype;for(var c in a){var d=a[c];typeof d=="function"?b[c]=function(a,b,c){return function(){return Array.prototype.unshift.call(arguments,this),b[c].apply(this,arguments)}}(b,a,c):b[c]=d}},Function.prototype.add_static_properties=function(a){var b=this;for(var c in a){var d=a[c];b[c]=d}},Function.prototype.extend_class=function(a){this.prototype=Object.create(a.prototype),this.prototype.constructor=this};var avatar_errors=[],avatar_errors_sent=[];$(window).load(function(){check_avatar_errors(),setInterval(check_avatar_errors,5e3)}),$(".layout-container").parent().find("header.header").addClass("new-layout-header"),typeof Object.assign!="function"&&(Object.assign=function(a,b){"use strict";if(a==null)throw new TypeError("Cannot convert undefined or null to object");var c=Object(a);for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e!=null)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(c[f]=e[f])}return c}),String.prototype.format=function(){var a=arguments;return this.unkeyed_index=0,this.replace(/\{(\w*)\}/g,function(b,c){c===""&&(c=this.unkeyed_index,this.unkeyed_index++);if(c==+c)return a[c]!=="undefined"?a[c]:b;for(var d=0;d<a.length;d++)if(typeof a[d]=="object"&&typeof a[d][c]!="undefined")return a[d][c];return b}.bind(this))};var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b="",c,d,e,f,g,h,i,j=0;a=Base64._utf8_encode(a);while(j<a.length)c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=a.charCodeAt(j++),f=c>>2,g=(c&3)<<4|d>>4,h=(d&15)<<2|e>>6,i=e&63,isNaN(d)?h=i=64:isNaN(e)&&(i=64),b=b+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h)+this._keyStr.charAt(i);return b},decode:function(a){var b="",c,d,e,f,g,h,i,j=0;a=a.replace(/[^A-Za-z0-9+/=]/g,"");while(j<a.length)f=this._keyStr.indexOf(a.charAt(j++)),g=this._keyStr.indexOf(a.charAt(j++)),h=this._keyStr.indexOf(a.charAt(j++)),i=this._keyStr.indexOf(a.charAt(j++)),c=f<<2|g>>4,d=(g&15)<<4|h>>2,e=(h&3)<<6|i,b+=String.fromCharCode(c),h!=64&&(b+=String.fromCharCode(d)),i!=64&&(b+=String.fromCharCode(e));return b=Base64._utf8_decode(b),b},_utf8_encode:function(a){a=a.replace(/rn/g,"n");var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b},_utf8_decode:function(a){var b="",c=0,d=c1=c2=0;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|c2&63),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(c2&63)<<6|c3&63),c+=3);return b}};$(".event-language-option").live("click",function(){var a=$(this),b=$(a).attr("language-code"),c=$(a).attr("language"),d=$(a).attr("target_url"),e=$("#current-event-language"),f=$(e).attr("language_code");$("#current-event-language").find("#language").html(c),$(a).parents("#event-languages-box").hide(),f!=b&&c!=undefined&&d!=undefined&&(window.location=d)});